<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.6.1">
<title>SecHub TechDoc</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Remove comment around @import statement below when using as a custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
[hidden],template{display:none}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}
input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.spread{width:100%}
p.lead,.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{font-size:1.21875em;line-height:1.6}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite:before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media only screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7;font-weight:bold}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix:before,.clearfix:after,.float-group:before,.float-group:after{content:" ";display:table}
.clearfix:after,.float-group:after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
*:not(pre)>code.nobreak{word-wrap:normal}
*:not(pre)>code.nowrap{white-space:nowrap}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button:before,b.button:after{position:relative;top:-1px;font-weight:400}
b.button:before{content:"[";padding:0 3px 0 2px}
b.button:after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header:before,#header:after,#content:before,#content:after,#footnotes:before,#footnotes:after,#footer:before,#footer:after{content:" ";display:table}
#header:after,#content:after,#footnotes:after,#footer:after{clear:both}
#content{margin-top:1.25em}
#content:before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span:before{content:"\00a0\2013\00a0"}
#header .details br+span.author:before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark:before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber:after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media only screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media only screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
.sect1{padding-bottom:.625em}
@media only screen and (min-width:768px){.sect1{padding-bottom:1.25em}}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor:before,h2>a.anchor:before,h3>a.anchor:before,#toctitle>a.anchor:before,.sidebarblock>.content>.title>a.anchor:before,h4>a.anchor:before,h5>a.anchor:before,h6>a.anchor:before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock>caption.title{white-space:nowrap;overflow:visible;max-width:0}
.paragraph.lead>p,#preamble>.sectionbody>.paragraph:first-of-type p{color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>.paragraph:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:initial}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media only screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media only screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]:before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]:before{display:block}
.listingblock.terminal pre .command:before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt]):before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote:before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote:before{display:none}
.verseblock{margin:0 1em 1.25em 1em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 0 1.25em 0;display:block}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{text-align:left;word-spacing:0}
.quoteblock.abstract blockquote:before,.quoteblock.abstract blockquote p:first-of-type:before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
table.tableblock td>.paragraph:last-child p>p:last-child,table.tableblock th>p:last-child,table.tableblock td>p:last-child{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px 0}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot{border-width:1px 0}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{margin:0 auto .625em auto;margin-left:-1.375em;margin-right:0;padding:0;list-style:none;overflow:hidden}
ul.inline>li{list-style:none;float:left;margin-left:1.375em;display:block}
ul.inline>li>*{display:block}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist>table tr>td:first-of-type{padding:.4em .75em 0 .75em;line-height:1;vertical-align:top}
.colist>table tr>td:first-of-type img{max-width:initial}
.colist>table tr>td:last-of-type{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em 0;border-width:1px 0 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;text-indent:-1.05em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note:before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip:before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning:before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution:before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important:before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@media print{@page{margin:1.25cm .75cm}
*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare):after,a[href^="https:"]:not(.bare):after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]:after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
.sect1{padding-bottom:0!important}
.sect1+.sect1{border:0!important}
#header>h1:first-child{margin-top:1.25rem}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em 0}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span:before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]:before{display:block}
#footer{background:none!important;padding:0 .9375em}
#footer-text{color:rgba(0,0,0,.6)!important;font-size:.9em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css">
<style>
/* Stylesheet for CodeRay to match GitHub theme | MIT License | http://foundation.zurb.com */
/*pre.CodeRay {background-color:#f7f7f8;}*/
.CodeRay .line-numbers{border-right:1px solid #d8d8d8;padding:0 0.5em 0 .25em}
.CodeRay span.line-numbers{display:inline-block;margin-right:.5em;color:rgba(0,0,0,.3)}
.CodeRay .line-numbers strong{color:rgba(0,0,0,.4)}
table.CodeRay{border-collapse:separate;border-spacing:0;margin-bottom:0;border:0;background:none}
table.CodeRay td{vertical-align: top;line-height:1.45}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.line-numbers>pre{padding:0;color:rgba(0,0,0,.3)}
table.CodeRay td.code{padding:0 0 0 .5em}
table.CodeRay td.code>pre{padding:0}
.CodeRay .debug{color:#fff !important;background:#000080 !important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:#000080}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:#008080}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:#008080}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:#008080}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword {color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:#008080}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1><span class="image"><img src="/home/albert/dev/projects/sechub/sechub-open-source/sechub-doc/build/asciidoc/images/sechub-logo.png" alt="sechub"></span> SecHub TechDoc</h1>
<div id="toc" class="toc2">
<div id="toctitle">Table of contents</div>
<ul class="sectlevel1">
<li><a href="#about">1. About</a></li>
<li><a href="#development-setup">2. Development Setup</a>
<ul class="sectlevel2">
<li><a href="#preparation">2.1. Preparation</a>
<ul class="sectlevel3">
<li><a href="#tool-installation">2.1.1. Tool installation</a></li>
<li><a href="#git-setup">2.1.2. GIT setup</a>
<ul class="sectlevel4">
<li><a href="#clone">2.1.2.1. Clone</a></li>
<li><a href="#sechub-git-configuration">2.1.2.2. GIT Configuration</a>
<ul class="sectlevel5">
<li><a href="#user-name-and-email">2.1.2.2.1. User name and email</a></li>
<li><a href="#sechub-wanted-setup">2.1.2.2.2. SecHub wanted setup</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#ide-setup">2.1.3. IDE setup</a>
<ul class="sectlevel4">
<li><a href="#eclipse">2.1.3.1. Eclipse</a>
<ul class="sectlevel5">
<li><a href="#import-projects">2.1.3.1.1. Import projects</a></li>
<li><a href="#create-localhost-server-certificate">2.1.3.1.2. Create localhost server certificate</a></li>
</ul>
</li>
<li><a href="#others">2.1.3.2. Others</a>
<ul class="sectlevel5">
<li><a href="#import-projects-2">2.1.3.2.1. Import projects</a></li>
<li><a href="#create-localhost-server-certificate-2">2.1.3.2.2. Create localhost server certificate</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#first-steps">2.2. First steps</a>
<ul class="sectlevel3">
<li><a href="#integration-test-scenario">2.2.1. Integration test scenario</a>
<ul class="sectlevel4">
<li><a href="#start-integration-test-server">2.2.1.1. Start integration test server</a>
<ul class="sectlevel5">
<li><a href="#ide">2.2.1.1.1. IDE</a></li>
<li><a href="#console">2.2.1.1.2. Console</a></li>
</ul>
</li>
<li><a href="#start-integration-tests">2.2.1.2. Start integration tests</a>
<ul class="sectlevel5">
<li><a href="#ide-2">2.2.1.2.1. IDE</a></li>
<li><a href="#console-2">2.2.1.2.2. Console</a></li>
</ul>
</li>
<li><a href="#stop-integration-test-server">2.2.1.3. Stop integration test server</a>
<ul class="sectlevel5">
<li><a href="#ide-3">2.2.1.3.1. IDE</a></li>
<li><a href="#console-3">2.2.1.3.2. Console</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#developer-administration-ui">2.3. Developer administration UI</a></li>
<li><a href="#integration-test-variant">2.4. Integration test variant</a></li>
</ul>
</li>
<li><a href="#section-infrastructure-setup">3. SecHub infrastructure setup</a>
<ul class="sectlevel2">
<li><a href="#section-infrastructure-setup-springboot">3.1. Spring boot</a>
<ul class="sectlevel3">
<li><a href="#section-sechub-spring-profiles">3.1.1. SecHub Spring Profiles</a>
<ul class="sectlevel4">
<li><a href="#server">3.1.1.1. Server</a>
<ul class="sectlevel5">
<li><a href="#overview">3.1.1.1.1. Overview</a></li>
<li><a href="#prod">3.1.1.1.2. PROD</a></li>
<li><a href="#dev">3.1.1.1.3. DEV</a></li>
<li><a href="#integration-test">3.1.1.1.4. Integration-Test</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#general-configuration-properties">3.1.2. General configuration properties</a></li>
<li><a href="#scheduling-definitions">3.1.3. Scheduling definitions</a></li>
<li><a href="#sechub-mock-options">3.1.4. Configuration properties for mocked adapters</a></li>
</ul>
</li>
<li><a href="#section-infrastructure-setup-localdevelopment">3.2. Local development</a>
<ul class="sectlevel3">
<li><a href="#java-launch-configuration-setup">3.2.1. Java launch configuration setup</a>
<ul class="sectlevel4">
<li><a href="#launch-in-demo-mode">3.2.1.1. Launch in demo mode</a></li>
<li><a href="#launch-in-dev-mode">3.2.1.2. Launch in DEV mode</a></li>
<li><a href="#launch-in-integration-test-mode">3.2.1.3. Launch in INTEGRATION TEST mode</a></li>
<li><a href="#launch-in-prod-mode">3.2.1.4. Launch in PROD mode</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#section-infrastructure-setup-security-products">3.3. Security product integrations</a>
<ul class="sectlevel3">
<li><a href="#section-infrastructure-setup-security-products-netsparker">3.3.1. Netsparker</a></li>
<li><a href="#section-infrastructure-setup-security-products-checkmarx">3.3.2. Checkmarx</a></li>
<li><a href="#section-infrastructure-setup-security-products-nessus">3.3.3. Nessus</a></li>
<li><a href="#section-infrastructure-setup-security-products-sereco">3.3.4. Sereco</a>
<ul class="sectlevel4">
<li><a href="#install">3.3.4.1. Install</a>
<ul class="sectlevel5">
<li><a href="#future">3.3.4.1.1. Future</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#section-infrastructure-setup-docker">3.4. Docker</a></li>
<li><a href="#section-infrastructure-setup-kubernetes">3.5. Kubernetes</a></li>
</ul>
</li>
<li><a href="#test-use-real-products">4. Test/Use real products</a>
<ul class="sectlevel2">
<li><a href="#start-server-in-dev-mode">4.1. Start server in DEV mode</a></li>
<li><a href="#start-server-in-prod-mode">4.2. Start server in PROD mode</a></li>
</ul>
</li>
<li><a href="#section-security-in-development">5. Security in development</a>
<ul class="sectlevel2">
<li><a href="#cli-client">5.1. CLI client</a></li>
<li><a href="#server-2">5.2. Server</a>
<ul class="sectlevel3">
<li><a href="#spring-boot-security">5.2.1. Spring Boot Security</a></li>
<li><a href="#certificates">5.2.2. Certificates</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#section-coding-conventions">6. Coding conventions</a>
<ul class="sectlevel2">
<li><a href="#commit-messages">6.1. Commit messages</a></li>
<li><a href="#database">6.2. Database</a>
<ul class="sectlevel3">
<li><a href="#naming-in-db">6.2.1. Naming in DB</a></li>
<li><a href="#naming-in-jpa">6.2.2. Naming in JPA</a></li>
</ul>
</li>
<li><a href="#java">6.3. Java</a>
<ul class="sectlevel3">
<li><a href="#classes">6.3.1. Classes</a>
<ul class="sectlevel4">
<li><a href="#subclassing-inheritance">6.3.1.1. Subclassing/ Inheritance</a></li>
<li><a href="#adding-additional-parts-without-inheritance">6.3.1.2. Adding additional parts without inheritance</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#logging">6.4. Logging</a>
<ul class="sectlevel3">
<li><a href="#general">6.4.1. General</a></li>
<li><a href="#audit-logging">6.4.2. Audit Logging</a></li>
<li><a href="#security-logging">6.4.3. Security Logging</a></li>
<li><a href="#sechub-logging-functional">6.4.4. Functional Logging</a></li>
<li><a href="#debug-logging">6.4.5. Debug Logging</a></li>
</ul>
</li>
<li><a href="#services">6.5. Services</a></li>
<li><a href="#restcontroller">6.6. RestController</a></li>
<li><a href="#code2doc">6.7. Code2Doc</a>
<ul class="sectlevel3">
<li><a href="#spring-values">6.7.1. Spring values</a></li>
<li><a href="#messaging">6.7.2. Messaging</a></li>
<li><a href="#use-cases">6.7.3. Use cases</a></li>
<li><a href="#tests">6.7.4. Tests</a>
<ul class="sectlevel4">
<li><a href="#unit-tests">6.7.4.1. Unit tests</a>
<ul class="sectlevel5">
<li><a href="#fields">6.7.4.1.1. Fields</a></li>
<li><a href="#naming-of-mocks-and-test-targets">6.7.4.1.2. Naming of mocks and test targets</a></li>
<li><a href="#naming-of-unit-tests">6.7.4.1.3. Naming of unit tests</a></li>
<li><a href="#using-json-in-unit-tests-versus-production-code">6.7.4.1.4. Using json in unit tests versus production code</a></li>
</ul>
</li>
<li><a href="#unit-tests-with-spring-context">6.7.4.2. Unit tests (with spring context)</a></li>
<li><a href="#mocked-restcontroller-mvc-tests-with-spring-context">6.7.4.3. Mocked RestController/MVC Tests (with spring context)</a></li>
<li><a href="#wiremock-tests">6.7.4.4. WireMock tests</a></li>
<li><a href="#db-integration-tests">6.7.4.5. DB integration tests</a></li>
<li><a href="#integration-tests">6.7.4.6. Integration tests</a>
<ul class="sectlevel5">
<li><a href="#integration-tests-using-restapi">6.7.4.6.1. Integration tests using RestAPI</a></li>
<li><a href="#integration-tests-using-sechubclient">6.7.4.6.2. Integration tests using SecHubClient</a></li>
</ul>
</li>
<li><a href="#section-coding-convention-restdoc">6.7.4.7. RestDOC tests</a>
<ul class="sectlevel5">
<li><a href="#what-is-the-difference-between-a-mocktest-and-a-restdoctest">6.7.4.7.1. What is the difference between a MockTest and a RestDocTest?</a></li>
<li><a href="#how-can-i-ensure-that-i-do-not-forget-to-describe-necesary-rest-api-parts">6.7.4.7.2. How can I ensure that I do not forget to describe necesary REST API parts?</a></li>
<li><a href="#naming">6.7.4.7.3. Naming</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#section-documentation">7. Documentation</a>
<ul class="sectlevel2">
<li><a href="#documentation-types">7.1. Documentation types</a>
<ul class="sectlevel3">
<li><a href="#section-documentation-markdown">7.1.1. Markdown</a></li>
<li><a href="#section-documentation-asciidoc">7.1.2. Asciidoc</a></li>
</ul>
</li>
<li><a href="#section-documentation-in-code">7.2. Documentation in code</a>
<ul class="sectlevel3">
<li><a href="#automated-description-of-important-code-part">7.2.1. Automated description of important code part</a></li>
<li><a href="#section-documentation-configuration-properties">7.2.2. Automated description of configuration properties</a></li>
<li><a href="#section-documentation-usecases">7.2.3. Automated description of use cases</a></li>
<li><a href="#automated-kubernetes-files">7.2.4. Automated Kubernetes files</a></li>
<li><a href="#automated-diagrams">7.2.5. Automated Diagrams</a>
<ul class="sectlevel4">
<li><a href="#section-documentation-messaging-overview">7.2.5.1. Domain messaging overview</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#section-documentation-generation">7.3. Documentation generation</a></li>
<li><a href="#generation-of-sechub-pages">7.4. Generation of sechub pages</a></li>
</ul>
</li>
<li><a href="#build">8. Build</a>
<ul class="sectlevel2">
<li><a href="#about-build-technology">8.1. About build technology</a></li>
<li><a href="#jenkins-auto-deployment">8.2. Jenkins auto deployment</a>
<ul class="sectlevel3">
<li><a href="#continous-integration-build">8.2.1. Continous integration build</a></li>
<li><a href="#release-build">8.2.2. Release build</a></li>
<li><a href="#special-client-and-server-release-trigger-jobs">8.2.3. Special client and server release trigger jobs</a>
<ul class="sectlevel4">
<li><a href="#examples">8.2.3.1. Examples</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#gradle-build-commands-overview">8.3. Gradle build commands overview</a></li>
<li><a href="#build-server">8.4. Build Server</a></li>
<li><a href="#build-client">8.5. Build Client</a></li>
<li><a href="#execute-integration-tests">8.6. Execute integration tests</a></li>
<li><a href="#build-documentation">8.7. Build Documentation</a></li>
<li><a href="#publish-artefacts">8.8. Publish artefacts</a></li>
</ul>
</li>
<li><a href="#concepts">9. Concepts</a>
<ul class="sectlevel2">
<li><a href="#section-usecases">9.1. Use cases</a>
<ul class="sectlevel3">
<li><a href="#overview-about-usecase-groups">9.1.1. Overview about usecase groups</a>
<ul class="sectlevel4">
<li><a href="#anonymous">9.1.1.1. Anonymous</a></li>
<li><a href="#user-administration">9.1.1.2. User administration</a></li>
<li><a href="#project-administration">9.1.1.3. Project administration</a></li>
<li><a href="#user-profile">9.1.1.4. User profile</a></li>
<li><a href="#sechub-execution">9.1.1.5. Sechub execution</a></li>
<li><a href="#sign-up">9.1.1.6. Sign up</a></li>
<li><a href="#job-administration">9.1.1.7. Job administration</a></li>
<li><a href="#technical">9.1.1.8. Technical</a></li>
<li><a href="#other">9.1.1.9. Other</a></li>
</ul>
</li>
<li><a href="#section-usecase-UC_001">9.1.2. UC_001-User self registration</a></li>
<li><a href="#section-usecase-UC_002">9.1.3. UC_002-Admin lists open user signups</a></li>
<li><a href="#section-usecase-UC_003">9.1.4. UC_003-Admin applies self registration</a></li>
<li><a href="#section-usecase-UC_004">9.1.5. UC_004-Admin lists all users</a></li>
<li><a href="#section-usecase-UC_005">9.1.6. UC_005-User creates a new sechub job</a></li>
<li><a href="#section-usecase-UC_006">9.1.7. UC_006-User uploads source code</a></li>
<li><a href="#section-usecase-UC_007">9.1.8. UC_007-User approves sechub job</a></li>
<li><a href="#section-usecase-UC_008">9.1.9. UC_008-Sechub scheduler starts job</a></li>
<li><a href="#section-usecase-UC_009">9.1.10. UC_009-User checks sechub job state</a></li>
<li><a href="#section-usecase-UC_010">9.1.11. UC_010-User downloads sechub job report</a></li>
<li><a href="#section-usecase-UC_011">9.1.12. UC_011-User starts scan by client</a></li>
<li><a href="#section-usecase-UC_012">9.1.13. UC_012-User clicks link to get new api token</a></li>
<li><a href="#section-usecase-UC_013">9.1.14. UC_013-Admin creates a project</a></li>
<li><a href="#section-usecase-UC_014">9.1.15. UC_014-Admin lists all projects</a></li>
<li><a href="#section-usecase-UC_015">9.1.16. UC_015-Admin assigns user to project</a></li>
<li><a href="#section-usecase-UC_016">9.1.17. UC_016-Admin unassigns user from project</a></li>
<li><a href="#section-usecase-UC_017">9.1.18. UC_017-Admin shows user details</a></li>
<li><a href="#section-usecase-UC_018">9.1.19. UC_018-Admin deletes a user</a></li>
<li><a href="#section-usecase-UC_019">9.1.20. UC_019-Admin deletes user signup</a></li>
<li><a href="#section-usecase-UC_020">9.1.21. UC_020-Admin deletes a project</a></li>
<li><a href="#section-usecase-UC_021">9.1.22. UC_021-Admin shows project details</a></li>
<li><a href="#section-usecase-UC_022">9.1.23. UC_022-Update project whitelist</a></li>
<li><a href="#section-usecase-UC_023">9.1.24. UC_023-Admin lists all running jobs</a></li>
<li><a href="#section-usecase-UC_024">9.1.25. UC_024-User requests new API token</a></li>
<li><a href="#section-usecase-UC_025">9.1.26. UC_025-Admin shows scan logs for project</a></li>
<li><a href="#section-usecase-UC_026">9.1.27. UC_026-Admin downloads all details about a scan job</a></li>
<li><a href="#section-usecase-UC_027">9.1.28. UC_027-Admin grants admin rights to user</a></li>
<li><a href="#section-usecase-UC_028">9.1.29. UC_028-Admin revokes admin rights from an admin</a></li>
<li><a href="#section-usecase-UC_029">9.1.30. UC_029-Admin lists all admins</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#api">10. API</a>
<ul class="sectlevel2">
<li><a href="#section-ucrestdoc">10.1. Rest API documentation</a>
<ul class="sectlevel3">
<li><a href="#overview-2">10.1.1. Overview</a>
<ul class="sectlevel4">
<li><a href="#user-administration-2">10.1.1.1. User administration</a></li>
<li><a href="#project-administration-2">10.1.1.2. Project administration</a></li>
<li><a href="#user-profile-2">10.1.1.3. User profile</a></li>
<li><a href="#sechub-execution-2">10.1.1.4. Sechub execution</a></li>
<li><a href="#sign-up-2">10.1.1.5. Sign up</a></li>
<li><a href="#job-administration-2">10.1.1.6. Job administration</a></li>
</ul>
</li>
<li><a href="#admin-lists-all-users">10.1.2. Admin lists all users</a></li>
<li><a href="#admin-assigns-user-to-project">10.1.3. Admin assigns user to project</a></li>
<li><a href="#admin-unassigns-user-from-project">10.1.4. Admin unassigns user from project</a></li>
<li><a href="#admin-shows-user-details">10.1.5. Admin shows user details</a></li>
<li><a href="#admin-deletes-a-user">10.1.6. Admin deletes a user</a></li>
<li><a href="#admin-shows-project-details">10.1.7. Admin shows project details</a></li>
<li><a href="#admin-downloads-all-details-about-a-scan-job">10.1.8. Admin downloads all details about a scan job</a></li>
<li><a href="#admin-grants-admin-rights-to-user">10.1.9. Admin grants admin rights to user</a></li>
<li><a href="#admin-revokes-admin-rights-from-an-admin">10.1.10. Admin revokes admin rights from an admin</a></li>
<li><a href="#admin-lists-all-admins">10.1.11. Admin lists all admins</a></li>
<li><a href="#admin-creates-a-project">10.1.12. Admin creates a project</a></li>
<li><a href="#admin-lists-all-projects">10.1.13. Admin lists all projects</a></li>
<li><a href="#admin-deletes-a-project">10.1.14. Admin deletes a project</a></li>
<li><a href="#update-project-whitelist">10.1.15. Update project whitelist</a></li>
<li><a href="#admin-shows-scan-logs-for-project">10.1.16. Admin shows scan logs for project</a></li>
<li><a href="#user-clicks-link-to-get-new-api-token">10.1.17. User clicks link to get new api token</a></li>
<li><a href="#user-creates-a-new-sechub-job">10.1.18. User creates a new sechub job</a></li>
<li><a href="#user-uploads-source-code">10.1.19. User uploads source code</a></li>
<li><a href="#user-approves-sechub-job">10.1.20. User approves sechub job</a></li>
<li><a href="#user-checks-sechub-job-state">10.1.21. User checks sechub job state</a></li>
<li><a href="#user-downloads-sechub-job-report">10.1.22. User downloads sechub job report</a>
<ul class="sectlevel4">
<li><a href="#section-ucrestdoc-UC_010-JSON">10.1.22.1. JSON</a></li>
<li><a href="#section-ucrestdoc-UC_010-HTML">10.1.22.2. HTML</a></li>
</ul>
</li>
<li><a href="#user-self-registration">10.1.23. User self registration</a></li>
<li><a href="#admin-lists-open-user-signups">10.1.24. Admin lists open user signups</a></li>
<li><a href="#admin-applies-self-registration">10.1.25. Admin applies self registration</a></li>
<li><a href="#admin-deletes-user-signup">10.1.26. Admin deletes user signup</a></li>
<li><a href="#user-requests-new-api-token">10.1.27. User requests new API token</a></li>
<li><a href="#admin-lists-all-running-jobs">10.1.28. Admin lists all running jobs</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#section-technical-debt">11. Technical debt</a>
<ul class="sectlevel2">
<li><a href="#long-running-transactions">11.1. Long running transactions</a></li>
<li><a href="#domain-messaging-system">11.2. Domain messaging system</a>
<ul class="sectlevel3">
<li><a href="#current-implementation">11.2.1. Current implementation</a>
<ul class="sectlevel4">
<li><a href="#additional-information">11.2.1.1. Additional information</a></li>
</ul>
</li>
<li><a href="#what-possibilities-do-we-have-to-change-this-in-future">11.2.2. What possibilities do we have to change this in future?</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#section-howtos">12. HowTos</a>
<ul class="sectlevel2">
<li><a href="#section-howto-integrate-a-new-product">12.1. Howto integrate a new product</a>
<ul class="sectlevel3">
<li><a href="#section-howtos-write-a-new-adapter">12.1.1. Write a new adapter</a>
<ul class="sectlevel4">
<li><a href="#copy-an-existing-adapter-subproject">12.1.1.1. Copy an existing adapter subproject</a></li>
<li><a href="#reimport-into-ide">12.1.1.2. Reimport into IDE</a></li>
<li><a href="#rename-packages">12.1.1.3. Rename packages</a></li>
<li><a href="#rename-classes">12.1.1.4. Rename Classes</a></li>
<li><a href="#rewrite-mockadapter">12.1.1.5. Rewrite Mockadapter</a></li>
<li><a href="#rewrite-adapter-logic">12.1.1.6. Rewrite Adapter logic</a></li>
<li><a href="#adapt-testapplication">12.1.1.7. Adapt TestApplication</a></li>
</ul>
</li>
<li><a href="#write-a-new-product-executor">12.1.2. Write a new product executor</a></li>
<li><a href="#extend-sereco-to-support-the-new-product">12.1.3. Extend SERECO to support the new product</a></li>
<li><a href="#adopt-and-write-tests">12.1.4. Adopt and write tests</a></li>
</ul>
</li>
<li><a href="#section-howto-configure-mock-behaviours">12.2. Howto configure mock behaviours</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="about">1. About</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>About SecHub</strong></p>
</div>
<div class="paragraph">
<p>SecHub is an acronym for <code>Security Hub</code> and is first of
all <strong>one API to scan for different security problems</strong>. Users of SecHub do not
care about which exact product is doing the real scan on server side, but only
configure their wanted aim.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>SecHub does <strong>NOT</strong> provide a security infrastructure but does orchestrate
different security products/tools.</p>
</div>
<div class="paragraph">
<p>So <strong>you still need an existing security infrastructure</strong> behind SecHub !</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>It was designed to be very easy to integrate into any existing
build pipeline / contionus integration (CI) and helps to provide
<strong>SecDevOps</strong>.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>You can get more information about from <a href="https://daimler.github.io/sechub">SecHub web page</a>  .</p>
</div>
<div class="paragraph">
<p>The project ist hosted at <a href="https://github.com/daimler/sechub" class="bare">https://github.com/daimler/sechub</a></p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong>About documentation</strong></p>
</div>
<div class="paragraph">
<p>This documentation is part of <code>SecHub</code>.</p>
</div>
<table id="documentation-license-info" class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Value</th>
<th class="tableblock halign-left valign-top">Information</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">LICENSE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MIT License</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Please look at <a href="https://github.com/Daimler/sechub/blob/master/LICENSE" class="bare">https://github.com/Daimler/sechub/blob/master/LICENSE</a></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Target audience for this document are <strong>SecHub Developers</strong> only!</p>
</div>
<hr>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="development-setup">2. Development Setup</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="preparation">2.1. Preparation</h3>
<div class="sect3">
<h4 id="tool-installation">2.1.1. Tool installation</h4>
<div class="paragraph">
<p>You need</p>
</div>
<div class="ulist">
<ul>
<li>
<p>JAVA 8 JDK</p>
</li>
<li>
<p>Go Lang (min 1.10)</p>
</li>
<li>
<p>GIT</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Go installation is only necessary for client development. All Tools must be accessible from PATH variable
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="git-setup">2.1.2. GIT setup</h4>
<div class="sect4">
<h5 id="clone">2.1.2.1. Clone</h5>
<div class="listingblock">
<div class="content">
<pre>git clone https://github.com/Daimler/sechub.git</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="sechub-git-configuration">2.1.2.2. GIT Configuration</h5>
<div class="paragraph">
<p>After clone is done, please go into repository root folder and define</p>
</div>
<div class="sect5">
<h6 id="user-name-and-email">2.1.2.2.1. User name and email</h6>
<div class="paragraph">
<p>Only necessary when not like your global configuration:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>git config user.email $yourEmailAddress
git config user.name "$firstName $lastName"</pre>
</div>
</div>
</div>
<div class="sect5">
<h6 id="sechub-wanted-setup">2.1.2.2.2. SecHub wanted setup</h6>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">git config branch.autosetuprebase always
git config branch.master.rebase true
git config push.default matching
git config core.autocrlf input
git config color.ui auto
git config --add remote.origin.fetch +refs/tags/*:refs/tags/*</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="ide-setup">2.1.3. IDE setup</h4>
<div class="sect4">
<h5 id="eclipse">2.1.3.1. Eclipse</h5>
<div class="sect5">
<h6 id="import-projects">2.1.3.1.1. Import projects</h6>
<div class="paragraph">
<p>Open a console in sechub repository root folder and type:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>./gradlew cleanEclipse eclipse assemble</pre>
</div>
</div>
<div class="paragraph">
<p>This will setup all your eclipse settings and you are able to import the now existing projects into a workspace
of your choice.</p>
</div>
</div>
<div class="sect5">
<h6 id="create-localhost-server-certificate">2.1.3.1.2. Create localhost server certificate</h6>
<div class="paragraph">
<p>This is automatically done by former gradle call, so not necessary here.</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="others">2.1.3.2. Others</h5>
<div class="sect5">
<h6 id="import-projects-2">2.1.3.2.1. Import projects</h6>
<div class="paragraph">
<p>Import as you would normally do in your IDE.</p>
</div>
</div>
<div class="sect5">
<h6 id="create-localhost-server-certificate-2">2.1.3.2.2. Create localhost server certificate</h6>
<div class="paragraph">
<p>To get the localhost server certificate created, open a console
just call  <code>./gradlew ensureLocalhostCertificate</code></p>
</div>
<div class="paragraph">
<p>This will generate a randomized server certificate for localhost, necessary for
development</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="first-steps">2.2. First steps</h3>
<div class="paragraph">
<p>Here some first steps to get SecHub running and being able to develop parts.</p>
</div>
<div class="sect3">
<h4 id="integration-test-scenario">2.2.1. Integration test scenario</h4>
<div class="paragraph">
<p>With this setup we will start sechub server ready for executing integration tests.
It does use only security product mocks, so we got no long running sessions. We need
no running security suite&#8230;&#8203; but of course we have no real products and can not make real scans.</p>
</div>
<div class="sect4">
<h5 id="start-integration-test-server">2.2.1.1. Start integration test server</h5>
<div class="sect5">
<h6 id="ide">2.2.1.1.1. IDE</h6>
<div class="paragraph">
<p>To start spring boot application <code>SecHubServerApplication</code> create a new launch configuration with
following arguments:</p>
</div>
<div class="paragraph">
<p>class: <code>com.daimler.sechub.SecHubServerApplication</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>-Dspring.profiles.active=integrationtest,mocked_products,h2 <i class="conum" data-value="1"></i><b>(1)</b>
-Dsechub.server.debug=true <i class="conum" data-value="2"></i><b>(2)</b>
-Dsechub.storage.sharedvolume.upload.dir=temp <i class="conum" data-value="3"></i><b>(3)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Starts server with
<div class="ulist">
<ul>
<li>
<p>localhost certificate</p>
</li>
<li>
<p>uses <strong>mocked products</strong></p>
</li>
<li>
<p>uses h2 database</p>
</li>
<li>
<p>always mocked notification</p>
</li>
<li>
<p>debug logging activated</p>
</li>
<li>
<p>provides special behaviour for integration tests (e.g. get mails,
easy to generate test data etc.)</p>
</li>
</ul>
</div></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>When debug flag is set, rest call response error messages do also contains
stacktraces.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>We use <code>temp</code> which is a marker to create a temp folder for shared volume
(<em>necessary for source upload)</em></td>
</tr>
</table>
</div>
</div>
<div class="sect5">
<h6 id="console">2.2.1.1.2. Console</h6>
<div class="listingblock">
<div class="content">
<pre>./gradlew startIntegrationTestServer</pre>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="start-integration-tests">2.2.1.2. Start integration tests</h5>
<div class="paragraph">
<p>Integration tests do completely execute commands like done on real system - except there is no real communication with
security products but only with mocked variants.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Integration tests do need always a running integration test server instance.
</td>
</tr>
</table>
</div>
<div class="sect5">
<h6 id="ide-2">2.2.1.2.1. IDE</h6>
<div class="paragraph">
<p>When you have running integration test server instance, just execute JUnit at complete project <code>sechub-integrationtest</code>
with</p>
</div>
<div class="listingblock">
<div class="content">
<pre>-Dsechub.integrationtest.running=true</pre>
</div>
</div>
<div class="paragraph">
<p>Some integration tests are long running. These tests are only run when you set</p>
</div>
<div class="listingblock">
<div class="content">
<pre>-Dsechub.integrationtest.longrunning=true</pre>
</div>
</div>
<div class="paragraph">
<p>So you can easily switch or enable all by enabling dedicated system property.</p>
</div>
</div>
<div class="sect5">
<h6 id="console-2">2.2.1.2.2. Console</h6>
<div class="paragraph">
<p>Next line starts integration test server, execute tests and automatically stops
server after done or failed.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>./gradlew integrationtest</pre>
</div>
</div>
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The gradle task <code>integrationtest</code> does not depend on <code>build</code>. This was
explicit not done, because build server can create server, then client and
then start integration tests (different stages &#8230;&#8203;) without building again.</p>
</div>
<div class="paragraph">
<p><strong>But be aware:</strong></p>
</div>
<div class="paragraph">
<p>If you have executed a <code>clean</code> task before, you are forced to call
<code>gradlew build buildGo integrationtest</code> to get all things working again.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect4">
<h5 id="stop-integration-test-server">2.2.1.3. Stop integration test server</h5>
<div class="sect5">
<h6 id="ide-3">2.2.1.3.1. IDE</h6>
<div class="paragraph">
<p>Just stop your running server&#8230;&#8203;</p>
</div>
</div>
<div class="sect5">
<h6 id="console-3">2.2.1.3.2. Console</h6>
<div class="listingblock">
<div class="content">
<pre>./gradlew stopIntegrationTestServer</pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="developer-administration-ui">2.3. Developer administration UI</h3>
<div class="paragraph">
<p>There exists a very simple user interface for developers, to test out behaviour of sechub server. There will be
all functions of server available, but in a very reduced way.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
The developer administration UI is only a tool for developers and should be handled with care.<br>
         It&#8217;s an extreme simple client for administrative parts. For real administration a frontend for admins
         will be developed in future! It&#8217;s not purposed to be in a deployment, but only for development.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="integration-test-variant">2.4. Integration test variant</h3>
<div class="paragraph">
<p>To start simple swing application <code>DeveloperAdministrationUI</code> create a new launch configuration with
following arguments:</p>
</div>
<div class="paragraph">
<p>class: <code>com.daimler.sechub.developertools.admin.ui.DeveloperAdministrationUI</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre>-Dsechub.developertools.admin.server=localhost <i class="conum" data-value="1"></i><b>(1)</b>
-Dsechub.developertools.admin.serverport=8443<i class="conum" data-value="2"></i><b>(2)</b>
-Dsechub.developertools.admin.userid=int-test_superadmin<i class="conum" data-value="3"></i><b>(3)</b>
-Dsechub.developertools.admin.apitoken=int-test_superadmin-pwd <i class="conum" data-value="3"></i><b>(3)</b>
-Dsechub.developertools.admin.integrationtestserver=true <i class="conum" data-value="4"></i><b>(4)</b></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Please replace this with your server location. For development <code>localhost</code></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>This is the server port. This line is optional, if you do not set default
will be <code>443</code>. For development servers at your local machine
you should normally set to <code>8443</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>These are the credentials used for administrative access. For integration
tests we got fix credentials - <strong>so never use in production!</strong></td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Enable special integration test actions - e.g. create test data, start jobs
etc.</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
At the moment we have no environment entries for credential on starting
         developer admin UI <em>(will be handled by <a href="https://github.com/Daimler/sechub/issues/8" class="bare">https://github.com/Daimler/sechub/issues/8</a>)</em>.<br>
         <br>
         So when using develoepr admin UI at production, ensure you are the
         only user able to see your process hierarchy in mean time!
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-infrastructure-setup">3. SecHub infrastructure setup</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="section-infrastructure-setup-springboot">3.1. Spring boot</h3>
<div class="sect3">
<h4 id="section-sechub-spring-profiles">3.1.1. SecHub Spring Profiles</h4>
<div class="paragraph">
<p><code>SecHub</code> provides multiple <code>Spring</code> profiles</p>
</div>
<div class="sect4">
<h5 id="server">3.1.1.1. Server</h5>
<div class="sect5">
<h6 id="overview">3.1.1.1.1. Overview</h6>
<div class="imageblock">
<div class="content">
<img src="/home/albert/dev/projects/sechub/sechub-open-source/sechub-doc/build/asciidoc/images/gen_springprofiles.svg" alt="Spring profiles and their explicit/implicit included parts" width="1709" height="112">
</div>
<div class="title">Spring profiles and their explicit/implicit included parts</div>
</div>
</div>
<div class="sect5">
<h6 id="prod">3.1.1.1.2. PROD</h6>
<div class="paragraph">
<p>As name offers, this profile is designed for production.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/home/albert/dev/projects/sechub/sechub-open-source/sechub-doc/build/asciidoc/images/gen_springprofiles-prod.svg" alt="Spring profile prod and its explicit/implicit included parts" width="404" height="216">
</div>
<div class="title">Spring profile prod and its explicit/implicit included parts</div>
</div>
</div>
<div class="sect5">
<h6 id="dev">3.1.1.1.3. DEV</h6>
<div class="imageblock">
<div class="content">
<img src="/home/albert/dev/projects/sechub/sechub-open-source/sechub-doc/build/asciidoc/images/gen_springprofiles-dev.svg" alt="Spring profile dev and its explicit/implicit included parts" width="669" height="216">
</div>
<div class="title">Spring profile dev and its explicit/implicit included parts</div>
</div>
<div class="paragraph">
<p>For development this profile must be combinated with others to get server
starting - but its extreme flexible and has only a dependency to localserver</p>
</div>
</div>
<div class="sect5">
<h6 id="integration-test">3.1.1.1.4. Integration-Test</h6>
<div class="imageblock">
<div class="content">
<img src="/home/albert/dev/projects/sechub/sechub-open-source/sechub-doc/build/asciidoc/images/gen_springprofiles-integrationtest.svg" alt="Spring profile integrationtest and its explicit/implicit included parts" width="762" height="216">
</div>
<div class="title">Spring profile integrationtest and its explicit/implicit included parts</div>
</div>
<div class="paragraph">
<p><strong>SecHub itself</strong></p>
</div>
<div class="paragraph">
<p>We use <code>integrationtest</code> profile for server integration tests. You must add some
additional profiles. We use <code>h2</code> and <code>mocked_products</code> for unit testing
of sechub server itself.</p>
</div>
<div class="paragraph">
<p><strong>Test your security tool suite installation</strong></p>
</div>
<div class="paragraph">
<p>You can use this profile also for testing your security product suite in
combination with sechub server - e.g. when you have done an update at your
product suite and you are not sure if its compatible or the products have bugs.</p>
</div>
<div class="paragraph">
<p>But <em>(at least currently)</em> you have to write your own tests then.
Following could be done:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Write some simple bash scripts which are using sechub client</p>
</li>
<li>
<p>Use <code>sechub-integrationtest</code> project as dependency and
write some junit tests using TestAPI.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>if you want to test your installed environment is working you can also use
<code>real_products</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>We got dedicated profile constants.</p>
</div>
<div class="paragraph">
<p>For adapters the constants can be found at <code>AdapterProfiles</code>, for all other in <code>Profiles</code> (shared kernel).</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="general-configuration-properties">3.1.2. General configuration properties</h4>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
The system properties described here are <strong>automatically</strong>
     <a href="#section-documentation-in-code">generated into this document</a> by build server when
     developers are using spring annotation <code>@Value</code> in conjunction with the
     SecHub annotation <code>@MustBeDocumented</code> annotation inside code!
</td>
</tr>
</table>
</div>
<table id="link-gen-systemproperties" class="tableblock frame-all grid-all spread">
<caption class="title">Table 1. Scope 'administration'</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sechub.server.administration.baseurl</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Base url for server - e.g. <a href="https://sechub.example.org" class="bare">https://sechub.example.org</a>.</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 2. Scope 'anonymous'</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sechub.user.onetimetoken.outdated.millis</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">86400000</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">One time token time when outdating</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 3. Scope 'checkmarx'</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sechub.adapter.checkmarx.baseurl</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Base url for checkmarx</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sechub.adapter.checkmarx.newproject.teamid</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Initial team ID. When a scan is started a and checkmarx project is still missing, a new checkmarx project will be automatically created. For creation a team must be assigned to the project, which cannot be done by API (and its not clear which users should be included etc.).</p>
<p class="tableblock">Normally this should not be necessary, because Admins should define a team (with sechubuser inside) alraedy before.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sechub.adapter.checkmarx.password</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Password of checkmarx user</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sechub.adapter.checkmarx.scanresultcheck.period.minutes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Time in minutes when adapter result check will be canceled/time out. When -1 timeout is 7200 minutes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sechub.adapter.checkmarx.scanresultcheck.timeout.minutes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Time in minutes when adapter result check will be canceled/time out. When -1 timeout is 7200 minutes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sechub.adapter.checkmarx.trustall</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Turns off certification checks for this product only. Should only be used in test or development environments!</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sechub.adapter.checkmarx.userid</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User id of checkmarx user</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 4. Scope 'development'</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sechub.development.webdesignmode.enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Developers can turn on this mode to have reports creating with external css. Normally the html model builder will create embedded css content</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 5. Scope 'initial'</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sechub.initialadmin.apitoken</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An apitoken for initial admin, will only be used in DEV and INTEGRATIONTEST profiles and is optional!</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sechub.initialadmin.email</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mail of initial administrator</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sechub.initialadmin.userid</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Userid of initial administrator</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 6. Scope 'mock'</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sechub.notification.email.mock.cache.enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">When email mock shall cache the mails this must be configured to true, per default disabled!</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 7. Scope 'nessus'</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sechub.adapter.nessus.defaultpolicyid</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default policy ID for nessus scans</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sechub.adapter.nessus.internet.baseurl</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Base url of nessus used for internet scans</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sechub.adapter.nessus.internet.password</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Password for nessus instance used for internet scans</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sechub.adapter.nessus.internet.userid</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User id of nessus user (internet)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sechub.adapter.nessus.intranet.baseurl</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Base url of nessus used for intranet scans</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sechub.adapter.nessus.intranet.password</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Password for nessus instance used for intranet scans</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sechub.adapter.nessus.intranet.userid</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User id of nessus user (intranet)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sechub.adapter.nessus.proxy.hostname</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Proxy hostname for nessus server connection, when empty no proxy is used. When not empty proxy port must be set too!</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sechub.adapter.nessus.proxy.port</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Proxy port for nessus server connection, default is 0. If you are setting a proxy hostname you have to configure this value correctly</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sechub.adapter.nessus.scanresultcheck.period.minutes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Time in minutes when adapter result check will be canceled/time out. When -1 timeout is 7200 minutes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sechub.adapter.nessus.scanresultcheck.timeout.minutes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Time in minutes when adapter result check will be canceled/time out. When -1 timeout is 7200 minutes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sechub.adapter.nessus.trustall</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Turns off certification checks for this product only. Should only be used in test or development environments!</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 8. Scope 'netsparker'</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sechub.adapter.netsparker.agentname</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the agent to be used by netsparker. If a agent group name is already defined the group will be superiour. If no group set and no agent name netsparker will use a agent but seems to be unpredictable which agent will be used.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sechub.adapter.netsparker.apitoken</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">API token for netsparker user</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sechub.adapter.netsparker.baseurl</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Base url for netsparker installation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sechub.adapter.netsparker.defaultpolicyid</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Default policy ID for netsparker scans</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sechub.adapter.netsparker.internet.agentgroupname</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the agent group to be used by netsparker for <strong>intranet scans</strong>. If not set no agent group will be used.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sechub.adapter.netsparker.intranet.agentgroupname</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the agent group to be used by netsparker for <strong>intranet scans</strong>. If not set no agent group will be used.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sechub.adapter.netsparker.licenseid</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sechub.adapter.netsparker.scanresultcheck.period.minutes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Time in minutes when adapter result check will be canceled/time out. When -1 timeout is 7200 minutes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sechub.adapter.netsparker.scanresultcheck.timeout.minutes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Time in minutes when adapter check operation is called next. When -1 value is 1 minutes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sechub.adapter.netsparker.trustall</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Turns off certification checks for this product only. Should only be used in test or development environments!</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sechub.adapter.netsparker.userid</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user id of netsparker user</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 9. Scope 'notification'</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sechub.notification.email.from</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 10. Scope 's'</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sechub.notification.smtp.config</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">mail.smtp.auth=false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SMTP configuration map. You can setup all java mail smtp settings here in comma separate form with key=value. For Example: <code>mail.smtp.auth=false,mail.smtp.timeout=4000</code>. See <a href="https://javaee.github.io/javamail/docs/api/com/sun/mail/smtp/package-summary.html" class="bare">https://javaee.github.io/javamail/docs/api/com/sun/mail/smtp/package-summary.html</a> for configuration mapping</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sechub.notification.smtp.hostname</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hostname of SMPTP server</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sechub.notification.smtp.port</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">25</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Port of SMPTP server, per default:25</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 11. Scope 'scheduler'</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sechub.config.trigger.nextjob.maxwaitretry</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">300</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">When retry mechanism is enabled by <code>sechub.config.trigger.nextjob.retries</code>, and a retry is necessary, this value is used to define the maximum time period in millis which will be waited before retry. Why max value? Because cluster instances seems to be created often on exact same time by kubernetes. So having here a max value will result in a randomized wait time so cluster members will do fetch operations time shifted and automatically reduce collisions!</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sechub.config.trigger.nextjob.retries</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inside a cluster the next job fetching can lead to concurrent access. When this happens a retry can be done for the 'looser'. This value defines the amount of *tries*If you do not want any retries set the value to a value lower than 2. 2 Means after one execution failed there is one retry. Values lower than 2 will lead to one try of execution only.</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 12. Scope 'shared'</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sechub.storage.sharedvolume.upload.dir</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Defines the root path for shared volume uploads - e.g. for sourcecode.zip etc.</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 13. Scope 'target'</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sechub.target.resolve.strategy.ip</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Strategy to decide target types by given IP.</strong><br>
Starts always with strategy-identifer, colon and value(s). Currently only 'intranet-ip-pattern' is supported as strategy. For example: <code>intranet-ip-pattern:192.168.178.<strong>,[2001:db8:85a3:0:0:8a2e:370:</strong>]</code>. Other IPs are interpreted as being inside INTERNET. But no matter if strategy is defined or not: loopback addresses are always illegal and so ignored</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sechub.target.resolve.strategy.uri</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Strategy to decide target types by given URI.</strong><br>
Starts always with strategy-identifer, colon and value(s). Currently only 'intranet-hostname-ends-with' is supported as strategy. For example: <code>intranet-hostname-ends-with::intranet.example.org,intx.example.com</code>. Other hostnames are interpreted as being inside INTERNET. But no matter if strategy is defined or not: loopback addresses are always illegal and so ignored.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="scheduling-definitions">3.1.3. Scheduling definitions</h4>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
The schedule setup described here is <a href="#section-documentation-in-code">generated into this document</a>
     by build server when developers are using spring annotation <code>@Scheduled</code> in conjunction with the
     sechub annotation <code>@MustBeDocumented</code> annotation inside code!
</td>
</tr>
</table>
</div>
<table id="link-gen-scheduling" class="tableblock frame-all grid-all spread">
<caption class="title">Table 14. Scope 'scheduler'</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Definition</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Location</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cron</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Key:sechub.config.trigger.nextjob.cron, per default:*/10 * * * * *</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Job scheduling is triggered by a cron job operation - default is 10 seconds. It can be configured different</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Method:SchedulerJobBatchTriggerService#triggerExecutionOfNextJob</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="sechub-mock-options">3.1.4. Configuration properties for mocked adapters</h4>
<div id="section-gen-mockproperties" class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
The system properties described here are <strong>automatically</strong>
     <a href="#section-documentation-in-code">generated into this document</a> by build server when
     developers are using spring annotation <code>@Value</code> inside instances implementing MockedAdapter.
     If you want details about the mock behavior you have to read the comments inside the java
     class being named in description column.
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 15. Scope 'mocked'</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Key</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">sechub.adapter.mock.setup.filepath</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">./../sechub-other/mockdata/mockdata_setup.json</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">See MockedAdapterSetupService.java</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="section-infrastructure-setup-localdevelopment">3.2. Local development</h3>
<div class="paragraph">
<p>This section describes the start on local machine <em>(development/presentation)</em>.</p>
</div>
<div class="paragraph">
<p>Only SecHub itself is described. The products must be either running and well
configured, or profile <code>mocked_products</code> must be active.</p>
</div>
<div class="paragraph">
<p>See product infrastructure sections for details.</p>
</div>
<div class="sect3">
<h4 id="java-launch-configuration-setup">3.2.1. Java launch configuration setup</h4>
<div class="paragraph">
<p>Because it takes too much time - even when security products are configured with
test profiles (for testing persistence, transaction rollback etc.) a
<code>mocked_products</code> profile was  introduced which can be used, see
<a href="#section-sechub-spring-profiles">Spring Profiles</a>.</p>
</div>
<div class="paragraph">
<p>It does use normal product executors but injects mocked adapters
(e.g. <code>MockedNessusAdapter</code>, <code>MockedNetsparkerAdapter</code>, ..)
which do not really communicate with the real security products but return
instead preconfigured values (which where recorded from real communications).</p>
</div>
<div class="paragraph">
<p>Startup is done by using active spring profile <code>mocked_products</code>.
Some mocks have special options to change their behaviour at runtime.
Please refer to <a href="#sechub-mock-options">Mock options</a> for details.</p>
</div>
<div class="paragraph">
<p>But you have either to define additional profiles for other stuff or to use
 <code>demomode</code> where database and environment entries are defined and inherits
 automatically <code>mocked_products</code>, see
 <a href="#section-sechub-spring-profiles">Spring Profiles</a> for details.</p>
</div>
<div class="sect4">
<h5 id="launch-in-demo-mode">3.2.1.1. Launch in demo mode</h5>
<div class="paragraph">
<p>Here an example for calling in demomode:</p>
</div>
<div class="paragraph">
<p>To start spring boot application <code>SecHubServerApplication</code> create a new launch configuration with
following arguments:</p>
</div>
<div class="paragraph">
<p>class: <code>com.daimler.sechub.SecHubServerApplication</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre>-Dspring.profiles.active=demomode</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="launch-in-dev-mode">3.2.1.2. Launch in DEV mode</h5>
<div class="paragraph">
<p>To start spring boot application <code>SecHubServerApplication</code> create a new launch configuration with
following arguments:</p>
</div>
<div class="paragraph">
<p>class: <code>com.daimler.sechub.SecHubServerApplication</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>-Dspring.profiles.active=dev,h2,real_products <i class="conum" data-value="1"></i><b>(1)</b>
-Dsechub.server.debug=true <i class="conum" data-value="2"></i><b>(2)</b>
...
-Dsechub.adapter.name.something.specific=${necessaryData} <i class="conum" data-value="3"></i><b>(3)</b>
...
-Dsechub.storage.sharedvolume.upload.dir=temp <i class="conum" data-value="4"></i><b>(4)</b>
-Dsechub.initialadmin.userid=sechubadm <i class="conum" data-value="5"></i><b>(5)</b>
-Dsechub.initialadmin.email=sechubadm@example.org<i class="conum" data-value="5"></i><b>(5)</b>
-Dsechub.initialadmin.apitoken=pseudo-token-development-only<i class="conum" data-value="5"></i><b>(5)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Enables debug logging, localserver certificates, uses <strong>real products</strong>
and starts server with h2 database.<br>
<div class="ulist">
<ul>
<li>
<p>Instead of <code>h2</code> profile you could also use profile <code>postgres</code> when you
have a running postgres instance available+</p>
</li>
<li>
<p>Also you could use <code>mocked_products</code> profile instead of <code>real_products</code>
and you will not have to define the adapter specifications.</p>
</li>
</ul>
</div></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>When debug flag is set, rest call reponse error messages do also contains stacktraces.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>This is just an example for a adapter specific setting. Please look into
<a href="#link-gen-systemproperties">system property definitions</a> and look for adapter parts.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>We use <code>temp</code> which is a marker to create a temp folder for shared volume
(<em>necessary for source upload)</em></td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td><em>(Optional)</em> If nothing is defined per default user with id: <code>sechubadm</code>, mail
address <code>sechubadm@example.org</code> and API token
<code>pseudo-token-development-only</code> will be created (see
<code>InitialAdminInitializer.java</code>).<br>
<br>
This is for developer convenience to reuse existing launch configurations and have not
always generated new initial apitokens, like done for profile <code>prod</code>.<br>
<br>
Developers are able to define their own to fix security token for started
develop servers. If so done, the started developer admin UI must use this
inside its launch configuration&#8230;&#8203;</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Your server will not start if you forget any adapter key!
TIP: (see <code>InitialAdminInitializer.java</code>).
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="launch-in-integration-test-mode">3.2.1.3. Launch in INTEGRATION TEST mode</h5>
<div class="paragraph">
<p>To start spring boot application <code>SecHubServerApplication</code> create a new launch configuration with
following arguments:</p>
</div>
<div class="paragraph">
<p>class: <code>com.daimler.sechub.SecHubServerApplication</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>-Dspring.profiles.active=integrationtest,mocked_products,h2 <i class="conum" data-value="1"></i><b>(1)</b>
-Dsechub.server.debug=true <i class="conum" data-value="2"></i><b>(2)</b>
-Dsechub.storage.sharedvolume.upload.dir=temp <i class="conum" data-value="3"></i><b>(3)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Starts server with
<div class="ulist">
<ul>
<li>
<p>localhost certificate</p>
</li>
<li>
<p>uses <strong>mocked products</strong></p>
</li>
<li>
<p>uses h2 database</p>
</li>
<li>
<p>always mocked notification</p>
</li>
<li>
<p>debug logging activated</p>
</li>
<li>
<p>provides special behaviour for integration tests (e.g. get mails,
easy to generate test data etc.)</p>
</li>
</ul>
</div></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>When debug flag is set, rest call response error messages do also contains
stacktraces.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>We use <code>temp</code> which is a marker to create a temp folder for shared volume
(<em>necessary for source upload)</em></td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="launch-in-prod-mode">3.2.1.4. Launch in PROD mode</h5>
<div class="paragraph">
<p>To start spring boot application <code>SecHubServerApplication</code> create a new launch configuration with
following arguments:</p>
</div>
<div class="paragraph">
<p>class: <code>com.daimler.sechub.SecHubServerApplication</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>-Dspring.profiles.active=prod <i class="conum" data-value="1"></i><b>(1)</b>
...
-Dsechub.adapter.name.something.specific=${necessaryData} <i class="conum" data-value="2"></i><b>(2)</b>
...
-Dsechub.storage.sharedvolume.upload.dir=/srv/storage/persistent-volume1 <i class="conum" data-value="3"></i><b>(3)</b>
-Dsechub.initialadmin.userid=real-superadmin<i class="conum" data-value="4"></i><b>(4)</b>
-Dsechub.initialadmin.email=real-superadmin@example.org<i class="conum" data-value="4"></i><b>(4)</b>
-Dserver.ssl.key-store=path/to/keystore.p12 <i class="conum" data-value="5"></i><b>(5)</b>
-Dserver.ssl.key-store-type=PKCS12 <i class="conum" data-value="5"></i><b>(5)</b>
-Dserver.ssl.key-alias=yourKeyAlias <i class="conum" data-value="5"></i><b>(5)</b>
-Dserver.ssl.key-store-password=yourKeyStorePassword <i class="conum" data-value="5"></i><b>(5)</b>
-Dsechub.notification.smtp.hostname=intranet.example.org <i class="conum" data-value="6"></i><b>(6)</b>
-Dsechub.notification.smtp.port=50<i class="conum" data-value="6"></i><b>(6)</b>
-Dsechub.notification.smtp.config=mail.smtp.auth=false<i class="conum" data-value="6"></i><b>(6)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Starts server with
<div class="ulist">
<ul>
<li>
<p>production certificate</p>
</li>
<li>
<p>uses <strong>real products</strong></p>
</li>
<li>
<p>uses always postgres database</p>
</li>
<li>
<p>real notification</p>
</li>
</ul>
</div></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>This is just an example for a adapter specific setting. Please look into
<a href="#link-gen-systemproperties">system property definitions</a> and look for adapter parts.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Define here the <strong>absolute path</strong> used for shared volume storage
(<em>necessary for source upload)</em></td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>When there is no existing admin inside sechub database on startup,
the given user credentials will be automatically created.<br>
Look at the log output to get the initial, generated API token for admin.
Be aware that you must regenerate a new api token for this user,
or delete the initial admin account after creating another admin,
because credentials are inside logs&#8230;&#8203;</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>This is PROD environment SSL configuration. The example shows setup for p12
certificate storage - see spring boot documentation for exact syntax.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Setup for smtp server for mail sending. Port and config are optional.
See <a href="#link-gen-systemproperties">system property definitions</a> for details.</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Your server will not start if you forget an adapter key!</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="section-infrastructure-setup-security-products">3.3. Security product integrations</h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This lists all currently supported products. The list will grow in future
and we will also make the product usage more configurable!</p>
</div>
<div class="paragraph">
<p>For details about the product configurations please refer also product relevant
<a href="#link-gen-systemproperties">system properties</a></p>
</div>
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="section-infrastructure-setup-security-products-netsparker">3.3.1. Netsparker</h4>
<div class="paragraph">
<p>Netsparker is a web scanner.</p>
</div>
<div class="paragraph">
<p>see <a href="https://www.netsparker.com" class="bare">https://www.netsparker.com</a></p>
</div>
</div>
<div class="sect3">
<h4 id="section-infrastructure-setup-security-products-checkmarx">3.3.2. Checkmarx</h4>
<div class="paragraph">
<p>Static code analyzer
see <a href="http://www.checkmarx.com/" class="bare">http://www.checkmarx.com/</a></p>
</div>
</div>
<div class="sect3">
<h4 id="section-infrastructure-setup-security-products-nessus">3.3.3. Nessus</h4>
<div class="paragraph">
<p>see <a href="https://www.tenable.com" class="bare">https://www.tenable.com</a></p>
</div>
</div>
<div class="sect3">
<h4 id="section-infrastructure-setup-security-products-sereco">3.3.4. Sereco</h4>
<div class="paragraph">
<p><code>Sereco</code> is not a product to buy but a own developed <code>sechub report collector</code>.</p>
</div>
<div class="paragraph">
<p>Why an own report collector? We formerly did try to use an commercial tool,
but we were stuck with many problems, e.g.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>crucial problems with installation</p>
</li>
<li>
<p>no clustering</p>
</li>
<li>
<p>missing REST API for imports</p>
</li>
<li>
<p>not supporting some product results</p>
</li>
<li>
<p>&#8230;&#8203; more&#8230;&#8203;</p>
</li>
</ul>
</div>
<div class="sect4">
<h5 id="install">3.3.4.1. Install</h5>
<div class="paragraph">
<p>The software comes currently up with sechub server installation. So nothing more is to do.</p>
</div>
<div class="paragraph">
<p>Scaling etc. is done with sechub scaling.</p>
</div>
<div class="sect5">
<h6 id="future">3.3.4.1.1. Future</h6>
<div class="paragraph">
<p>Currently <code>Sereco</code> is an embedded component of <code>SecHub</code>. Maybe there comes a time where <code>Sereco</code> will become a seperate server component which will be deployed standalone.
If so there are some changes to do (e.g. creating a rest API) etc. But as long as there is no need for a separate installation
it makes no sense to change this.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="section-infrastructure-setup-docker">3.4. Docker</h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
We use normally not docker directly but instead kubernetes.
       But we must build the images and upload to registry. Also it&#8217;s sometimes necessary to start docker containers directly (local&#8230;&#8203;) for debugging
       purposes.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="section-infrastructure-setup-kubernetes">3.5. Kubernetes</h3>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
The existing kubernetes deployment must be made more general.
     When this is done, it can be added to OSS variant as well.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="test-use-real-products">4. Test/Use real products</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="start-server-in-dev-mode">4.1. Start server in DEV mode</h3>
<div class="paragraph">
<p>To start spring boot application <code>SecHubServerApplication</code> create a new launch configuration with
following arguments:</p>
</div>
<div class="paragraph">
<p>class: <code>com.daimler.sechub.SecHubServerApplication</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>-Dspring.profiles.active=dev,h2,real_products <i class="conum" data-value="1"></i><b>(1)</b>
-Dsechub.server.debug=true <i class="conum" data-value="2"></i><b>(2)</b>
...
-Dsechub.adapter.name.something.specific=${necessaryData} <i class="conum" data-value="3"></i><b>(3)</b>
...
-Dsechub.storage.sharedvolume.upload.dir=temp <i class="conum" data-value="4"></i><b>(4)</b>
-Dsechub.initialadmin.userid=sechubadm <i class="conum" data-value="5"></i><b>(5)</b>
-Dsechub.initialadmin.email=sechubadm@example.org<i class="conum" data-value="5"></i><b>(5)</b>
-Dsechub.initialadmin.apitoken=pseudo-token-development-only<i class="conum" data-value="5"></i><b>(5)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Enables debug logging, localserver certificates, uses <strong>real products</strong>
and starts server with h2 database.<br>
<div class="ulist">
<ul>
<li>
<p>Instead of <code>h2</code> profile you could also use profile <code>postgres</code> when you
have a running postgres instance available+</p>
</li>
<li>
<p>Also you could use <code>mocked_products</code> profile instead of <code>real_products</code>
and you will not have to define the adapter specifications.</p>
</li>
</ul>
</div></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>When debug flag is set, rest call reponse error messages do also contains stacktraces.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>This is just an example for a adapter specific setting. Please look into
<a href="#link-gen-systemproperties">system property definitions</a> and look for adapter parts.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>We use <code>temp</code> which is a marker to create a temp folder for shared volume
(<em>necessary for source upload)</em></td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td><em>(Optional)</em> If nothing is defined per default user with id: <code>sechubadm</code>, mail
address <code>sechubadm@example.org</code> and API token
<code>pseudo-token-development-only</code> will be created (see
<code>InitialAdminInitializer.java</code>).<br>
<br>
This is for developer convenience to reuse existing launch configurations and have not
always generated new initial apitokens, like done for profile <code>prod</code>.<br>
<br>
Developers are able to define their own to fix security token for started
develop servers. If so done, the started developer admin UI must use this
inside its launch configuration&#8230;&#8203;</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Your server will not start if you forget any adapter key!
TIP: (see <code>InitialAdminInitializer.java</code>).
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Please refer also
     <a href="#section-howto-integrate-a-new-product">Howto integrate new products</a>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="start-server-in-prod-mode">4.2. Start server in PROD mode</h3>
<div class="paragraph">
<p>To start spring boot application <code>SecHubServerApplication</code> create a new launch configuration with
following arguments:</p>
</div>
<div class="paragraph">
<p>class: <code>com.daimler.sechub.SecHubServerApplication</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code>-Dspring.profiles.active=prod <i class="conum" data-value="1"></i><b>(1)</b>
...
-Dsechub.adapter.name.something.specific=${necessaryData} <i class="conum" data-value="2"></i><b>(2)</b>
...
-Dsechub.storage.sharedvolume.upload.dir=/srv/storage/persistent-volume1 <i class="conum" data-value="3"></i><b>(3)</b>
-Dsechub.initialadmin.userid=real-superadmin<i class="conum" data-value="4"></i><b>(4)</b>
-Dsechub.initialadmin.email=real-superadmin@example.org<i class="conum" data-value="4"></i><b>(4)</b>
-Dserver.ssl.key-store=path/to/keystore.p12 <i class="conum" data-value="5"></i><b>(5)</b>
-Dserver.ssl.key-store-type=PKCS12 <i class="conum" data-value="5"></i><b>(5)</b>
-Dserver.ssl.key-alias=yourKeyAlias <i class="conum" data-value="5"></i><b>(5)</b>
-Dserver.ssl.key-store-password=yourKeyStorePassword <i class="conum" data-value="5"></i><b>(5)</b>
-Dsechub.notification.smtp.hostname=intranet.example.org <i class="conum" data-value="6"></i><b>(6)</b>
-Dsechub.notification.smtp.port=50<i class="conum" data-value="6"></i><b>(6)</b>
-Dsechub.notification.smtp.config=mail.smtp.auth=false<i class="conum" data-value="6"></i><b>(6)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Starts server with
<div class="ulist">
<ul>
<li>
<p>production certificate</p>
</li>
<li>
<p>uses <strong>real products</strong></p>
</li>
<li>
<p>uses always postgres database</p>
</li>
<li>
<p>real notification</p>
</li>
</ul>
</div></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>This is just an example for a adapter specific setting. Please look into
<a href="#link-gen-systemproperties">system property definitions</a> and look for adapter parts.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Define here the <strong>absolute path</strong> used for shared volume storage
(<em>necessary for source upload)</em></td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>When there is no existing admin inside sechub database on startup,
the given user credentials will be automatically created.<br>
Look at the log output to get the initial, generated API token for admin.
Be aware that you must regenerate a new api token for this user,
or delete the initial admin account after creating another admin,
because credentials are inside logs&#8230;&#8203;</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>This is PROD environment SSL configuration. The example shows setup for p12
certificate storage - see spring boot documentation for exact syntax.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Setup for smtp server for mail sending. Port and config are optional.
See <a href="#link-gen-systemproperties">system property definitions</a> for details.</td>
</tr>
</table>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Your server will not start if you forget an adapter key!</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-security-in-development">5. Security in development</h2>
<div class="sectionbody">
<div class="admonitionblock caution">
<table>
<tr>
<td class="icon">
<i class="fa icon-caution" title="Caution"></i>
</td>
<td class="content">
We enable security even in early stage of development! There is no test, no integration test or anything else which would use <code>http</code> only!
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="cli-client">5.1. CLI client</h3>
<div class="paragraph">
<p>There are some options for CLI client which were <strong>not</strong> supposed to be
used in production. So instead of exposing such options by help we
use those by explicit ENV entries</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">ENV-NAME</th>
<th class="tableblock halign-left valign-top">Value</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SECHUB_DEBUG</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"true"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Shows debug outputs</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SECHUB_QUIET</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"true"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Suppresses warning outputs</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SECHUB_TRUSTALL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">"true"</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Trust all certificates (only for development). Normally SecHub client does show a warning when <code>trustall</code> option is enabled</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="server-2">5.2. Server</h3>
<div class="sect3">
<h4 id="spring-boot-security">5.2.1. Spring Boot Security</h4>
<div class="paragraph">
<p>Spring boot security is always turned on, no matter if development or in production.</p>
</div>
</div>
<div class="sect3">
<h4 id="certificates">5.2.2. Certificates</h4>
<div class="paragraph">
<p>For development gradle task <code>ensureLocalhostCertificate</code> in <code>sechub-server</code> will automatically generate a
localhost server certificate. For details look into task and called bash script.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-coding-conventions">6. Coding conventions</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="commit-messages">6.1. Commit messages</h3>
<div class="paragraph">
<p>We always commit with an issue id inside the headline message means e.g. on command line:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">commit -m &quot;Some short summary #${issueNr}&quot;</code></pre>
</div>
</div>
<div class="paragraph">
<p>When having details we always add an empty new line after summary and list details, maybe using "-" at
the beginning to have a pretty output in <code>GitHub</code></p>
</div>
</div>
<div class="sect2">
<h3 id="database">6.2. Database</h3>
<div class="sect3">
<h4 id="naming-in-db">6.2.1. Naming in DB</h4>
<div class="paragraph">
<p>We are using PostgreSQL which does automatically use lower_case names</p>
</div>
</div>
<div class="sect3">
<h4 id="naming-in-jpa">6.2.2. Naming in JPA</h4>
<div class="paragraph">
<p>We are using upper cased names</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="java">6.3. Java</h3>
<div class="sect3">
<h4 id="classes">6.3.1. Classes</h4>
<div class="paragraph">
<p>Defined class names</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Rest controller</code> will be called <code>${name}RestController.java</code></p>
</li>
<li>
<p>A <code>service</code> is something that will be called by controllers  and will be named <code>${name}Service.java</code></p>
</li>
<li>
<p>A factory creating a <code>target</code> will be called <code>${target}Factory.java</code></p>
</li>
<li>
<p>Something implementing an interface will be called <code>${nameWithAtLeastInterfacePartAtEnd}Impl.java</code></p>
</li>
</ul>
</div>
<div class="sect4">
<h5 id="subclassing-inheritance">6.3.1.1. Subclassing/ Inheritance</h5>
<div class="paragraph">
<p>Normally sub classes shall add their custom part in front of the name as a prefix:</p>
</div>
<div class="paragraph">
<p>E.g. Interface <code>JobRepository</code> extends <code>Repository</code></p>
</div>
</div>
<div class="sect4">
<h5 id="adding-additional-parts-without-inheritance">6.3.1.2. Adding additional parts without inheritance</h5>
<div class="paragraph">
<p>An exception are Custom parts</p>
</div>
<div class="paragraph">
<p>E.g. Interface <code>JobRepositoryCustom</code> is a special addon to JobRepository without inheritance</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="logging">6.4. Logging</h3>
<div class="sect3">
<h4 id="general">6.4.1. General</h4>
<div class="paragraph">
<p>We try to avoid massive logging but we want to log relevant parts!</p>
</div>
</div>
<div class="sect3">
<h4 id="audit-logging">6.4.2. Audit Logging</h4>
<div class="paragraph">
<p>We use a service from shared kernel: <code>AuditLogService</code></p>
</div>
</div>
<div class="sect3">
<h4 id="security-logging">6.4.3. Security Logging</h4>
<div class="paragraph">
<p>We use a service from shared kernel: <code>SecurityLogService</code></p>
</div>
</div>
<div class="sect3">
<h4 id="sechub-logging-functional">6.4.4. Functional Logging</h4>
<div class="paragraph">
<p>We use a dedicated static log field for functional logging.
Normal logging contains <code>INFO</code> level. Problems which are just annoying will come up to <code>WARN</code> level.
Bigger problems are logged in level <code>ERROR</code>.</p>
</div>
<div class="paragraph">
<p>Technology used is <code>slf4j</code>. We always use logging with parameters - to avoid log injections (should be handled
by logging framework automatically) and also to speed up.</p>
</div>
<div class="paragraph">
<p><em>For example:</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre>LOG.info("This is user:{} which is from department:{}",userId,department);</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="debug-logging">6.4.5. Debug Logging</h4>
<div class="paragraph">
<p>As described in <a href="#sechub-logging-functional">functional logging</a>, but with log level <code>DEBUG</code>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="services">6.5. Services</h3>
<div class="paragraph">
<p>We try to create small spring services, in most cases a
service with annotation <code>@Service</code> should have only one public method</p>
</div>
<div class="paragraph">
<p>So pretty simple and easy to maintain.
The name should provide information what the service does.</p>
</div>
</div>
<div class="sect2">
<h3 id="restcontroller">6.6. RestController</h3>
<div class="paragraph">
<p>Rest controller should not do any business logic by themselves, but delegate only to dedicated
(rest) controller.</p>
</div>
</div>
<div class="sect2">
<h3 id="code2doc">6.7. Code2Doc</h3>
<div class="sect3">
<h4 id="spring-values">6.7.1. Spring values</h4>
<div class="paragraph">
<p>All spring <code>@Value</code> annotations which are necessary for documentation (except adapters, they got
no access to sechub internal parts and are pretty dump) have to be taged
with <code>@MustBeDocumented</code> annotation. See <a href="#section-documentation-in-code">documentation in code</a></p>
</div>
</div>
<div class="sect3">
<h4 id="messaging">6.7.2. Messaging</h4>
<div class="paragraph">
<p>The messaging flow must be documented by annotations as well. There are diagramms automatically generated.
See <a href="#section-documentation-messaging-overview">documentation messaging overview</a> for further information.</p>
</div>
</div>
<div class="sect3">
<h4 id="use-cases">6.7.3. Use cases</h4>
<div id="section-coding-convention-usecases" class="paragraph">
<p>The usecases and their steps have to be
documented inside code by using a dedicated
annotation which itself is tagged with an <code>@UseCaseDefinition</code> annotation.
See existing examples in sechub code.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Tag <strong>relevant</strong> entrypoints as dedicated usecase step so
     other developers can easily find them by their IDE (in eclipse
     for example you can use <code>CTRL + g</code> to find all references of the
     selected usecase annotation class
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The <code>UseCaseModelAsciiDocGenerator</code> will automatically
generate asciidoc file <code>gen_usecases.adoc</code> which will
contain all the data from the code and linked
adoc files. Also all <strong>REST API documentation</strong> for usecases having a <code>@UseCaseRestDoc</code> association will be automatically generated.</p>
</div>
<div class="paragraph">
<p>See also <a href="#section-documentation-usecases">Usecase documentation</a></p>
</div>
</div>
<div class="sect3">
<h4 id="tests">6.7.4. Tests</h4>
<div class="paragraph">
<p>In genereal unit tests which are testing a dedicated class <strong>MUST</strong> have same package as tested classes.
So it&#8217;s easier to find and also possible to use package private fields for mocking etc.</p>
</div>
<div class="sect4">
<h5 id="unit-tests">6.7.4.1. Unit tests</h5>
<div class="sect5">
<h6 id="fields">6.7.4.1.1. Fields</h6>
<div class="paragraph">
<p>We prefer fields to local variables, fields have to be rebuild by an <code>@Before</code> method.</p>
</div>
</div>
<div class="sect5">
<h6 id="naming-of-mocks-and-test-targets">6.7.4.1.2. Naming of mocks and test targets</h6>
<div class="ulist">
<ul>
<li>
<p>Creating a mock field for e.g. a service <code>UserService</code> will be named as <code>userService</code>.
We do NOT add something like a <code>mock</code> post or prefix!</p>
</li>
<li>
<p>The test target field - e.g. <code>MailService</code> will be called something like <code>&#8230;&#8203;.ToTest</code>.
For example <code>serviceToTest</code></p>
</li>
</ul>
</div>
</div>
<div class="sect5">
<h6 id="naming-of-unit-tests">6.7.4.1.3. Naming of unit tests</h6>
<div class="paragraph">
<p>"Normal" Junit tests will simply called ${nameOfClassToTest}Test.java
They have no dependency to spring</p>
</div>
</div>
<div class="sect5">
<h6 id="using-json-in-unit-tests-versus-production-code">6.7.4.1.4. Using json in unit tests versus production code</h6>
<div class="paragraph">
<p>org.json.JSONxxyz will make problems because test implementation is using
a lightweight variant with other api.</p>
</div>
<div class="paragraph">
<p>There were some obscure problems with this situation. So inside
the adapter framework the context has got a dedicated json
support which is using only jackson parts
and has a fluent api.</p>
</div>
<div class="paragraph">
<p>Use only those for communication. It also has an
automated support for deep tracing with product identification</p>
</div>
</div>
</div>
<div class="sect4">
<h5 id="unit-tests-with-spring-context">6.7.4.2. Unit tests (with spring context)</h5>
<div class="paragraph">
<p>Junit needing a running spring boot container will be called ${nameOfClassToTest}SpringBootTest.java
They use <code>@SpringBootTest</code> inside and have access to dependency
injection etc.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Prefer normal junit tests to spring boot tests, as they are much
           faster and often sufficient.
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="mocked-restcontroller-mvc-tests-with-spring-context">6.7.4.3. Mocked RestController/MVC Tests (with spring context)</h5>
<div class="paragraph">
<p>Those tests will also be called <code>${name}MockTest.java</code> - will e.g. use use Spring annotation <code>@WebMvcTest</code></p>
</div>
</div>
<div class="sect4">
<h5 id="wiremock-tests">6.7.4.4. WireMock tests</h5>
<div class="paragraph">
<p>When we have to use wire mock - e.g. to mock up product servers, we
call them <code>${name}WireMockTest.java</code></p>
</div>
</div>
<div class="sect4">
<h5 id="db-integration-tests">6.7.4.5. DB integration tests</h5>
<div class="paragraph">
<p>Those tests will be called <code>${name}DBTest.java</code> - and will use Spring annotation <code>@DataJpaTest</code></p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
For an example look into <code>JobRepositoryDBTest</code>
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="integration-tests">6.7.4.6. Integration tests</h5>
<div class="paragraph">
<p>In project <code>sechub-integrationtest</code> full integration tests are settled.
The project needs a running server in profile <code>integrationtest</code>.
For more details about those tests read the <code>README.md</code> file inside
projects root folder.</p>
</div>
<div class="sect5">
<h6 id="integration-tests-using-restapi">6.7.4.6.1. Integration tests using RestAPI</h6>
<div class="paragraph">
<p>These tests will be called <code>${name}IntTest.java</code></p>
</div>
</div>
<div class="sect5">
<h6 id="integration-tests-using-sechubclient">6.7.4.6.2. Integration tests using SecHubClient</h6>
<div class="paragraph">
<p>Some integration tests do need a build SecHub client and execute the client.
These tests will be called <code>${name}SecHubClientIntTest.java</code></p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
If these tests are failing, please check you have called <code>gradlew buildGo</code> before,
     otherwise no sechub client is available for test&#8230;&#8203;
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect4">
<h5 id="section-coding-convention-restdoc">6.7.4.7. RestDOC tests</h5>
<div class="paragraph">
<p>In project <code>sechub-doc</code> there are <code>RESTDOC tests</code> settled. Those tests are annotated with
<code>UseCaseRestDoc</code> and associated with dedicated <a href="#section-coding-convention-usecases">UseCase</a>.
The tests will automatically create REST api documentation by using <code>Spring REST DOC</code>.</p>
</div>
<div class="paragraph">
<p>(See also <a href="#section-tools-spring-restdoc">REST Doc tooling</a>.)</p>
</div>
<div class="paragraph">
<p>The tests <strong>MUST</strong> be settled here because gradle support classpath runtime information only at current project, so to prevent
heavy changeds on build logic, we simply setup those tests inside <code>sechub-doc</code> project itself.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
As a side effect it is very much easier for developers to see what parts are rest doc tested at one glance.
</td>
</tr>
</table>
</div>
<div class="sect5">
<h6 id="what-is-the-difference-between-a-mocktest-and-a-restdoctest">6.7.4.7.1. What is the difference between a MockTest and a RestDocTest?</h6>
<div class="paragraph">
<p>RestDoc tests are designed to check fields, params and results described in documentations are really as is.
There is no logic testing inside those tests. They are more or less just for documentation. On the other hand
the MockTest pendants are only for logic testing, so also destructive variants and more technical parts are tested here.</p>
</div>
</div>
<div class="sect5">
<h6 id="how-can-i-ensure-that-i-do-not-forget-to-describe-necesary-rest-api-parts">6.7.4.7.2. How can I ensure that I do not forget to describe necesary REST API parts?</h6>
<div class="paragraph">
<p>Every call to REST API must be described as a part for <a href="#section-coding-convention-usecases">use cases </a>. So there is
a usecase annotation used at the restcontroller method which should have a method with an <code>@Step</code> result. At the <code>@Step</code>
annotation there is a field <code>needsRestDoc</code> which is per default set to <code>false</code>. For steps doing rest operations and
needs to be documented, just set <code>needsRestDoc</code> to <code>true</code>. When you have done this you cannot forget to document, because
there is an automated test which fail when you got not RestDoc tests annotated with <code>@UseCaseRestDoc</code> for the use case&#8230;&#8203;
It will not break the build, but produce a failing test. There is also an opposite check that you got no <code>@UseCaseRestDoc</code>
tests without corrsponding set of steps having <code>needsRestDoc</code> enabled.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
You can also find easily restDoc relevant parts by search caller hierarchy of <code>needsRestDoc</code> inside your code.
So you get a list of all controller methods having documented API&#8230;&#8203;
</td>
</tr>
</table>
</div>
</div>
<div class="sect5">
<h6 id="naming">6.7.4.7.3. Naming</h6>
<div class="paragraph">
<p>We use <code>${restControllerClassName}RestDocTest.java</code> as name pattern to find <code>RestDoc</code> tests easier.</p>
</div>
<div class="paragraph">
<p><code>restControllerClassname</code> is just the java class name of the controller were the rest call is made
(normally the <code>@Step</code> annotation must have there the <code>needRestAPI='true'</code> setup )</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Having always the Controllers and also the necessary <code>@MockBean</code> annotations as spring test
     dependency this will reduce the boilerplate code to one location&#8230;&#8203;
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-documentation">7. Documentation</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="documentation-types">7.1. Documentation types</h3>
<div class="sect3">
<h4 id="section-documentation-markdown">7.1.1. Markdown</h4>
<div class="paragraph">
<p>Simple technical information -e.g. about the content of an folder
- will be written in markdown syntax.</p>
</div>
<div class="paragraph">
<p>Normaly we use a README.md file to explain simple things.</p>
</div>
<div class="paragraph">
<p>See <a href="https://en.wikipedia.org/wiki/Markdown" class="bare">https://en.wikipedia.org/wiki/Markdown</a> for <code>markdown</code> definition</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The main purpose of not using AsciiDoc for those parts was, that
former used git hosting environment (before github.com) was not able
to show up <code>.adoc</code> files in a appropriate formatted way, but only as plain
source. So we started to use <code>markdown</code> for files which shall be pretty
formatted there.</p>
</div>
<div class="paragraph">
<p>Having now moved to <code>github.com</code> we can write those files of course
also as <code>.adoc</code></p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="section-documentation-asciidoc">7.1.2. Asciidoc</h4>
<div class="paragraph">
<p>When ever writing a full scaled documentation - means more than some lines to explain a folder etc. - we do this with Asciidoc.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
You can use <a href="http://asciidoctor.org/docs/user-manual" class="bare">http://asciidoctor.org/docs/user-manual</a> or
     look into <a href="http://asciidoctor.org/docs/asciidoc-syntax-quick-reference" class="bare">http://asciidoctor.org/docs/asciidoc-syntax-quick-reference</a> for more information
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="section-documentation-in-code">7.2. Documentation in code</h3>
<div class="sect3">
<h4 id="automated-description-of-important-code-part">7.2.1. Automated description of important code part</h4>
<div class="paragraph">
<p>There exists an annotation <code>@MustBeDocumented</code> , which is not
only used as a marker for important code parts but also is used by an automatic
generation of an <code>.adoc</code> file which are included in <code>asciidoc</code> documentation.</p>
</div>
</div>
<div class="sect3">
<h4 id="section-documentation-configuration-properties">7.2.2. Automated description of configuration properties</h4>
<div class="paragraph">
<p>With usage of <code>@MustBeDocumented</code> at Spring annotation <code>@Value</code>
the <a href="#section-infrastructure-setup-springboot">infrastructure properties</a> can be documented
automatically.</p>
</div>
</div>
<div class="sect3">
<h4 id="section-documentation-usecases">7.2.3. Automated description of use cases</h4>
<div class="paragraph">
<p>With usage of special usecase annotations which itself are marked with <code>@UseCaseDefintion</code> it&#8217;s possible
to create an automated use case description. See also
<a href="#section-coding-convention-usecases">Usecase coding conventions</a>
for more technical details.</p>
</div>
</div>
<div class="sect3">
<h4 id="automated-kubernetes-files">7.2.4. Automated Kubernetes files</h4>
<div class="paragraph">
<p>The <code>@MustBeDocumented</code> annotation is also used for automatic generation of <code>Kubernetes</code> deployment parts. See <a href="#section-infrastructure-kubernetes-files-generator">Kubernetes Files Generator</a> .
for details.</p>
</div>
</div>
<div class="sect3">
<h4 id="automated-diagrams">7.2.5. Automated Diagrams</h4>
<div class="sect4">
<h5 id="section-documentation-messaging-overview">7.2.5.1. Domain messaging overview</h5>
<div class="paragraph">
<p>Using Annotations, which are itself tagged with <code>@DomainMessaging</code> annotation, those parts will automatically
listed inside generated messaging diagram(s) <code>gen_domain_messaging_overview.plantuml</code> :</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/home/albert/dev/projects/sechub/sechub-open-source/sechub-doc/build/asciidoc/images/gen_domain_messaging_overview.svg" alt="Sequence diagram of messaging" width="1024" height="1692">
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
For an example look into <code>@IsReceivingAsyncMessage</code> and look also for its
     references.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="section-documentation-generation">7.3. Documentation generation</h3>
<div class="paragraph">
<p>By calling <code>gradlew documentation</code> the <code>AsciidocGenerator</code> is build and used. This generator will automatically
generate documentation areas like <a href="#link-gen-systemproperties">System properties</a> or <a href="#link-gen-scheduling">Scheduling</a> which will
be rendered by Asciidoctor afterwards.</p>
</div>
</div>
<div class="sect2">
<h3 id="generation-of-sechub-pages">7.4. Generation of sechub pages</h3>
<div class="paragraph">
<p>just call <code>gradlew documentation-with-pages</code> or if documentation is already generated just call
<code>gradlew docToPages</code>, so documentation parts will copied into <code>docs</code> folder.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="build">8. Build</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="about-build-technology">8.1. About build technology</h3>
<div class="paragraph">
<p>Leading entry point/technology is always <code>gradle</code>. So if you want to build something, please look at the
corresponding gradle tasks.</p>
</div>
<div class="paragraph">
<p>We will use <code>travis</code> for a simple continous integration and quick response at
<code>github.com</code> but for automated deployment etc. Jenkins is in use with a ready
to use pipeline script (and two custom jobs).</p>
</div>
</div>
<div class="sect2">
<h3 id="jenkins-auto-deployment">8.2. Jenkins auto deployment</h3>
<div class="paragraph">
<p>When you want to build and automate deployment of SecHub by <a href="https://jenkins.io/">Jenkins</a>  you can
use a preconfigured pipeline script.</p>
</div>
<div class="paragraph">
<p>Your Jenkins server should be at minimum: <code>Jenkins ver. 2.176.1</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Of course you can setup SecHub by your own in a way you like. But
      the following documentation will always work.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="continous-integration-build">8.2.1. Continous integration build</h4>
<div class="paragraph">
<p>This setup builds all branches except <code>master</code> (master is always build by next
job&#8230;&#8203;). The multibranch pipeline build is for continous integration
builds - means to get fast feedback.</p>
</div>
<div class="paragraph">
<p><strong>Please setup CI by&#8230;&#8203;</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Jenkins &gt; create new Item &#8594; <code>Multibranch pipeline</code>, name: <code>sechub-open-source-ci</code><br></p>
</li>
<li>
<p>Branch sources: <code>Git</code>+</p>
<div class="ulist">
<ul>
<li>
<p>Project repository: <code><a href="https://github.com/Daimler/sechub.git" class="bare">https://github.com/Daimler/sechub.git</a></code><br></p>
</li>
<li>
<p>Behaviours:</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Discover branches</p>
</li>
<li>
<p>Filter by name (with wildcards):</p>
</li>
</ol>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>      Include: *
      Exclude: master</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Build configuration:<br></p>
<div class="ulist">
<ul>
<li>
<p>Mode <code>by jenkinsfile</code></p>
</li>
<li>
<p>Script path: <code>continous-integration-multibranch-pipeline.jenkins</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Scan Multibranch Pipeline Triggers<br></p>
<div class="ulist">
<ul>
<li>
<p>Periodically if not otherwise run</p>
</li>
<li>
<p>Interval <code>5 minutes</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Save &#8230;&#8203;</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="release-build">8.2.2. Release build</h4>
<div class="paragraph">
<p>Release builds are only done at <code>master</code> branch and do also publish
artifacts to maven repository when commit has been tagged.
The tags are starting with a <code>v</code> then be followed
by <code>major</code>.<code>minor</code>.<code>hotfix</code>, a hyphen and then the <code>type</code>.<br>
<br>
A server could be released by a tag like
<code>v1.1.0-server</code>, a new client by <code>v1.2.0-client</code> for example.</p>
</div>
<div class="paragraph">
<p><strong>For setup release build please do following:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Jenkins &gt; create new Item &#8594; <code>Pipeline</code>, name: <code>sechub-open-source-release</code><br></p>
</li>
<li>
<p>Build triggers : <code>Poll SCM</code><br>
Schedule:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>  # every five minutes
  H/5 * * * *</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Pipeline: <code>Pipeline script from SCM</code><br></p>
<div class="ulist">
<ul>
<li>
<p>SCM: Git</p>
</li>
<li>
<p>Repository URL: <code><a href="https://github.com/Daimler/sechub.git" class="bare">https://github.com/Daimler/sechub.git</a></code></p>
</li>
<li>
<p>Branches to build: <code>*/master</code></p>
</li>
<li>
<p>Script Path: <code>release-pipeline.jenkins</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Save &#8230;&#8203;</p>
</li>
</ul>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Don&#8217;t use accidently a <strong>multibranch pipeline</strong> here but only
         a <strong>pipeline</strong> job!
         Otherwise the algorithm for automatical calling for
         <code>sechub-serer-released</code> and <code>sechub-client-released</code> jobs
         does not work. Reason: multibranch pipelines handle tags special
         and will not fetch tags - what is necessary for release.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="special-client-and-server-release-trigger-jobs">8.2.3. Special client and server release trigger jobs</h4>
<div class="paragraph">
<p>If there are new versions of client or server available - means tagged with
client or server versions  (e.g. <code>v1.1.0-server</code> or <code>v1.2.0-client</code>)  the former
created release job will automatically publish client and server artifacts (includes
documentation, spring boot jars, binaries etc.) to dedicated maven repository
and after this calls one/or two of the following jobs:</p>
</div>
<div class="paragraph">
<p><code>sechub-server-released</code> with parameter <code>SERVERVERSION</code> as <code>1.1.0</code><br>
<code>sechub-client-released</code> with parameter <code>CLIENTVERSION</code> as <code>1.2.0</code></p>
</div>
<div class="paragraph">
<p>So you have to add these additional <code>Pipeline</code> jobs.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
The client and server release jobs has to be stored in <strong>another git repository</strong>
containing your specific deployment parts etc.
</td>
</tr>
</table>
</div>
<div class="sect4">
<h5 id="examples">8.2.3.1. Examples</h5>
<div class="paragraph">
<p>Here are some simple examples - easy to adopt:</p>
</div>
<div class="listingblock">
<div class="title">Example for a <code>sechub-server-released</code> job</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">pipeline {
    agent any
    parameters {
         string(
             <span class="key">name</span>: <span class="string"><span class="delimiter">'</span><span class="content">SERVERVERSION</span><span class="delimiter">'</span></span>,
             <span class="key">defaultValue</span>: <span class="string"><span class="delimiter">'</span><span class="content">0.0.0</span><span class="delimiter">'</span></span>,
             <span class="comment">// OSS build does enter this automatically!</span>
             <span class="key">description</span>: <span class="string"><span class="delimiter">'</span><span class="content">New server version...</span><span class="delimiter">'</span></span>
         )
    }

    stages {
        stage(<span class="string"><span class="delimiter">'</span><span class="content">Handle new server released</span><span class="delimiter">'</span></span>) {
            steps {
                echo <span class="string"><span class="delimiter">&quot;</span><span class="content">Implement me: deploy server :</span><span class="inline"><span class="inline-delimiter">${</span>params.SERVERVERSION<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
            }
        }
    }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Example for a <code>sechub-client-released</code> job</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="groovy">pipeline {
    agent any
    parameters {
         string(
             <span class="key">name</span>: <span class="string"><span class="delimiter">'</span><span class="content">CLIENTVERSION</span><span class="delimiter">'</span></span>,
             <span class="key">defaultValue</span>: <span class="string"><span class="delimiter">'</span><span class="content">0.0.0</span><span class="delimiter">'</span></span>,
             <span class="comment">// OSS build does enter this automatically!</span>
             <span class="key">description</span>: <span class="string"><span class="delimiter">'</span><span class="content">New client version...</span><span class="delimiter">'</span></span>
         )
    }

    stages {
        stage(<span class="string"><span class="delimiter">'</span><span class="content">Handle new client released</span><span class="delimiter">'</span></span>) {
            steps {
                echo <span class="string"><span class="delimiter">&quot;</span><span class="content">Implement me: upload client :</span><span class="inline"><span class="inline-delimiter">${</span>params.CLIENTVERSION<span class="inline-delimiter">}</span></span><span class="delimiter">&quot;</span></span>
            }
        }
    }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="gradle-build-commands-overview">8.3. Gradle build commands overview</h3>

</div>
<div class="sect2">
<h3 id="build-server">8.4. Build Server</h3>
<div class="paragraph">
<p>Just call</p>
</div>
<div class="listingblock">
<div class="content">
<pre>./gradlew build</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="build-client">8.5. Build Client</h3>
<div class="paragraph">
<p>Just call</p>
</div>
<div class="listingblock">
<div class="content">
<pre>./gradlew buildGo</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="execute-integration-tests">8.6. Execute integration tests</h3>
<div class="paragraph">
<p>Just call</p>
</div>
<div class="listingblock">
<div class="content">
<pre>./gradlew integrationtest</pre>
</div>
</div>
<div class="paragraph">
<p>This will start also an integration test server</p>
</div>
</div>
<div class="sect2">
<h3 id="build-documentation">8.7. Build Documentation</h3>
<div class="paragraph">
<p>Just call</p>
</div>
<div class="listingblock">
<div class="content">
<pre>./gradlew documentation</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="publish-artefacts">8.8. Publish artefacts</h3>
<div class="paragraph">
<p>Just call</p>
</div>
<div class="listingblock">
<div class="content">
<pre>./gradlew publish</pre>
</div>
</div>
<div class="paragraph">
<p><em>(if not already builds done this will be triggered automatically)</em></p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="concepts">9. Concepts</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="section-usecases">9.1. Use cases</h3>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
The complete documentation about use cases is generated. If you want to change content, please search for
     <code>@UseCaseDefinition</code> references in source code and make necessary changes inside code!
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="overview-about-usecase-groups">9.1.1. Overview about usecase groups</h4>
<div class="sect4">
<h5 id="anonymous">9.1.1.1. Anonymous</h5>
<div class="paragraph">
<p>All these usecases handling anonymous access.</p>
</div>
</div>
<div class="sect4">
<h5 id="user-administration">9.1.1.2. User administration</h5>
<div class="paragraph">
<p>Usecases handling administration of users</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#section-usecase-UC_004">UC_004-Admin lists all users</a></p>
</li>
<li>
<p><a href="#section-usecase-UC_015">UC_015-Admin assigns user to project</a></p>
</li>
<li>
<p><a href="#section-usecase-UC_016">UC_016-Admin unassigns user from project</a></p>
</li>
<li>
<p><a href="#section-usecase-UC_017">UC_017-Admin shows user details</a></p>
</li>
<li>
<p><a href="#section-usecase-UC_018">UC_018-Admin deletes a user</a></p>
</li>
<li>
<p><a href="#section-usecase-UC_021">UC_021-Admin shows project details</a></p>
</li>
<li>
<p><a href="#section-usecase-UC_026">UC_026-Admin downloads all details about a scan job</a></p>
</li>
<li>
<p><a href="#section-usecase-UC_027">UC_027-Admin grants admin rights to user</a></p>
</li>
<li>
<p><a href="#section-usecase-UC_028">UC_028-Admin revokes admin rights from an admin</a></p>
</li>
<li>
<p><a href="#section-usecase-UC_029">UC_029-Admin lists all admins</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="project-administration">9.1.1.3. Project administration</h5>
<div class="paragraph">
<p>Usecases for project administration</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#section-usecase-UC_013">UC_013-Admin creates a project</a></p>
</li>
<li>
<p><a href="#section-usecase-UC_014">UC_014-Admin lists all projects</a></p>
</li>
<li>
<p><a href="#section-usecase-UC_016">UC_016-Admin unassigns user from project</a></p>
</li>
<li>
<p><a href="#section-usecase-UC_020">UC_020-Admin deletes a project</a></p>
</li>
<li>
<p><a href="#section-usecase-UC_022">UC_022-Update project whitelist</a></p>
</li>
<li>
<p><a href="#section-usecase-UC_025">UC_025-Admin shows scan logs for project</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="user-profile">9.1.1.4. User profile</h5>
<div class="paragraph">
<p>User actions belonging to their profiles</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#section-usecase-UC_012">UC_012-User clicks link to get new api token</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="sechub-execution">9.1.1.5. Sechub execution</h5>
<div class="paragraph">
<p>Execution of sechub -either by CLI or direct with REST api call</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#section-usecase-UC_005">UC_005-User creates a new sechub job</a></p>
</li>
<li>
<p><a href="#section-usecase-UC_006">UC_006-User uploads source code</a></p>
</li>
<li>
<p><a href="#section-usecase-UC_007">UC_007-User approves sechub job</a></p>
</li>
<li>
<p><a href="#section-usecase-UC_009">UC_009-User checks sechub job state</a></p>
</li>
<li>
<p><a href="#section-usecase-UC_010">UC_010-User downloads sechub job report</a></p>
</li>
<li>
<p><a href="#section-usecase-UC_011">UC_011-User starts scan by client</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="sign-up">9.1.1.6. Sign up</h5>
<div class="paragraph">
<p>All these usecases are handling user sign up (part of user self registration process)</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#section-usecase-UC_001">UC_001-User self registration</a></p>
</li>
<li>
<p><a href="#section-usecase-UC_002">UC_002-Admin lists open user signups</a></p>
</li>
<li>
<p><a href="#section-usecase-UC_003">UC_003-Admin applies self registration</a></p>
</li>
<li>
<p><a href="#section-usecase-UC_019">UC_019-Admin deletes user signup</a></p>
</li>
<li>
<p><a href="#section-usecase-UC_024">UC_024-User requests new API token</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="job-administration">9.1.1.7. Job administration</h5>
<div class="paragraph">
<p>Usecases about job administration</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#section-usecase-UC_023">UC_023-Admin lists all running jobs</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="technical">9.1.1.8. Technical</h5>
<div class="paragraph">
<p>Usecases about technical operations being executed by sechub itself</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#section-usecase-UC_008">UC_008-Sechub scheduler starts job</a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="other">9.1.1.9. Other</h5>
<div class="paragraph">
<p>All other use cases</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="section-usecase-UC_001">9.1.2. UC_001-User self registration</h4>
<div class="paragraph">
<p>The self registration can be done by <code>anonymous</code> users.</p>
</div>
<div class="paragraph">
<p>If a user is not already inside the system and there exists not already a self registration the signup
is persisted.</p>
</div>
<div class="paragraph">
<p><strong>Technical information</strong></p>
</div>
<div class="paragraph">
<p>You will find relevant code parts by searching for references of <code>@com.daimler.sechub.sharedkernel.usecases.user.UseCaseUserSignup</code></p>
</div>
<div class="paragraph">
<p><strong>Steps</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 5%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Nr</th>
<th class="tableblock halign-left valign-top">Title</th>
<th class="tableblock halign-left valign-top">Role(s)</th>
<th class="tableblock halign-left valign-top">Next</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rest API call</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rest api called to register user. Normally done by user itself</p>
<p class="tableblock"><em>This step is defined at method <code>registerUser</code> in class `com.daimler.sechub.domain.administration.signup.AnonymousSignupRestController`</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Persistence</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Valid self registration input will be persisted to database.</p>
<p class="tableblock"><em>This step is defined at method <code>register</code> in class `com.daimler.sechub.domain.administration.signup.AnonymousSignupCreateService`</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Email to admin</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A notification is send per email to admins that a new user signup has been created and waits for acceptance.</p>
<p class="tableblock"><em>This step is defined at method <code>notify</code> in class `com.daimler.sechub.domain.notification.user.SignUpRequestedAdminNotificationService`</em></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a href="#section-ucrestdoc-uc-UC_001">REST API documentation for usecase UC_001-User self registration </a></p>
</div>
</div>
<div class="sect3">
<h4 id="section-usecase-UC_002">9.1.3. UC_002-Admin lists open user signups</h4>
<div class="paragraph">
<p>In this usecase the administrator will list the currently unapplied user self registrations/signups.</p>
</div>
<div class="paragraph">
<p><strong>Technical information</strong></p>
</div>
<div class="paragraph">
<p>You will find relevant code parts by searching for references of <code>@com.daimler.sechub.sharedkernel.usecases.admin.signup.UseCaseAdministratorListsOpenUserSignups</code></p>
</div>
<div class="paragraph">
<p><strong>Steps</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 5%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Nr</th>
<th class="tableblock halign-left valign-top">Title</th>
<th class="tableblock halign-left valign-top">Role(s)</th>
<th class="tableblock halign-left valign-top">Next</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rest call</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROLE_SUPERADMIN</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All self registrations are returned as json</p>
<p class="tableblock"><em>This step is defined at method <code>listUserSignups</code> in class `com.daimler.sechub.domain.administration.signup.SignupAdministrationRestController`</em></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a href="#section-ucrestdoc-uc-UC_002">REST API documentation for usecase UC_002-Admin lists open user signups </a></p>
</div>
</div>
<div class="sect3">
<h4 id="section-usecase-UC_003">9.1.4. UC_003-Admin applies self registration</h4>
<div class="paragraph">
<p>In this usecase the administrator will accept the self registration done by an user.</p>
</div>
<div class="paragraph">
<p><strong>Technical information</strong></p>
</div>
<div class="paragraph">
<p>You will find relevant code parts by searching for references of <code>@com.daimler.sechub.sharedkernel.usecases.admin.signup.UseCaseAdministratorAcceptsSignup</code></p>
</div>
<div class="paragraph">
<p><strong>Steps</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 5%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Nr</th>
<th class="tableblock halign-left valign-top">Title</th>
<th class="tableblock halign-left valign-top">Role(s)</th>
<th class="tableblock halign-left valign-top">Next</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rest call</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROLE_SUPERADMIN</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Administrator accepts a persisted self registration entry by calling rest api</p>
<p class="tableblock"><em>This step is defined at method <code>acceptUserSignUp</code> in class `com.daimler.sechub.domain.administration.user.UserAdministrationRestController`</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Create user and send events</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROLE_SUPERADMIN</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3, 4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The service will create the user a one time token for api token generation and triggers asynchronous events.
It will also remove the existing user signup because no longer necessary.</p>
<p class="tableblock"><em>This step is defined at method <code>createUserFromSelfRegistration</code> in class `com.daimler.sechub.domain.administration.user.UserCreationService`</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Email to user</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A notification is send per email to user that a new api token was requested. The mail contains a link for getting the secure API token</p>
<p class="tableblock"><em>This step is defined at method <code>notify</code> in class `com.daimler.sechub.domain.notification.user.NewApiTokenRequestedUserNotificationService`</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Give user access</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Authorization layer is informed about new user and gives access to sechub. But without any project information</p>
<p class="tableblock"><em>This step is defined at method <code>createUser</code> in class `com.daimler.sechub.domain.authorization.service.AuthUserCreationService`</em></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a href="#section-ucrestdoc-uc-UC_003">REST API documentation for usecase UC_003-Admin applies self registration </a></p>
</div>
</div>
<div class="sect3">
<h4 id="section-usecase-UC_004">9.1.5. UC_004-Admin lists all users</h4>
<div class="paragraph">
<p>An administrator downloads a json file containing all user ids</p>
</div>
<div class="paragraph">
<p><strong>Technical information</strong></p>
</div>
<div class="paragraph">
<p>You will find relevant code parts by searching for references of <code>@com.daimler.sechub.sharedkernel.usecases.admin.user.UseCaseAdministratorListsAllUsers</code></p>
</div>
<div class="paragraph">
<p><strong>Steps</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 5%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Nr</th>
<th class="tableblock halign-left valign-top">Title</th>
<th class="tableblock halign-left valign-top">Role(s)</th>
<th class="tableblock halign-left valign-top">Next</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rest call</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROLE_SUPERADMIN</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All userids of sechub users are returned as json</p>
<p class="tableblock"><em>This step is defined at method <code>listUsers</code> in class `com.daimler.sechub.domain.administration.user.UserAdministrationRestController`</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Service call</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROLE_SUPERADMIN</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All userids of sechub users are returned as json</p>
<p class="tableblock"><em>This step is defined at method <code>listUsers</code> in class `com.daimler.sechub.domain.administration.user.UserListService`</em></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a href="#section-ucrestdoc-uc-UC_004">REST API documentation for usecase UC_004-Admin lists all users </a></p>
</div>
</div>
<div class="sect3">
<h4 id="section-usecase-UC_005">9.1.6. UC_005-User creates a new sechub job</h4>
<div id="sechub-doclink-uc-user-creates-job" class="paragraph">
<p>A user wants to create a new sechub job.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
This will <strong>not</strong> directly start the job. Please refer to <a href="#sechub-doclink-uc-user-approves-job">User approves job</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>As a result the user will have created a new <code>SecHub</code> job and have a job UUID as result.
After this the user is able to</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#sechub-doclink-uc-user-approves-job">approve the job</a></p>
</li>
<li>
<p><a href="#sechub-doclink-uc-user-uploads-sourcecode-for-job">upload source code for code scanning</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Technical information</strong></p>
</div>
<div class="paragraph">
<p>You will find relevant code parts by searching for references of <code>@com.daimler.sechub.sharedkernel.usecases.user.execute.UseCaseUserCreatesNewJob</code></p>
</div>
<div class="paragraph">
<p><strong>Steps</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 5%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Nr</th>
<th class="tableblock halign-left valign-top">Title</th>
<th class="tableblock halign-left valign-top">Role(s)</th>
<th class="tableblock halign-left valign-top">Next</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Authenticated REST call</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROLE_SUPERADMIN, ROLE_USER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>This step is defined at method <code>createJob</code> in class `com.daimler.sechub.domain.schedule.SchedulerRestController`</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Persistence and result</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Persist a new job entry and return Job UUID</p>
<p class="tableblock"><em>This step is defined at method <code>createJob</code> in class `com.daimler.sechub.domain.schedule.SchedulerCreateJobService`</em></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a href="#section-ucrestdoc-uc-UC_005">REST API documentation for usecase UC_005-User creates a new sechub job </a></p>
</div>
</div>
<div class="sect3">
<h4 id="section-usecase-UC_006">9.1.7. UC_006-User uploads source code</h4>
<div id="sechub-doclink-uc-user-uploads-sourcecode-for-job" class="paragraph">
<p>A user wants to upload sourcecode for a former <a href="#sechub-doclink-uc-user-creates-job">created sechub job</a>.</p>
</div>
<div class="paragraph">
<p>The source code must be a valid zipfile.</p>
</div>
<div class="paragraph">
<p><strong>Technical information</strong></p>
</div>
<div class="paragraph">
<p>You will find relevant code parts by searching for references of <code>@com.daimler.sechub.sharedkernel.usecases.user.execute.UseCaseUserUploadsSourceCode</code></p>
</div>
<div class="paragraph">
<p><strong>Steps</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 5%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Nr</th>
<th class="tableblock halign-left valign-top">Title</th>
<th class="tableblock halign-left valign-top">Role(s)</th>
<th class="tableblock halign-left valign-top">Next</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Authenticated REST call</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROLE_SUPERADMIN, ROLE_USER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>This step is defined at method <code>uploadSourceCode</code> in class `com.daimler.sechub.domain.schedule.SchedulerRestController`</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Try to find project annd upload sourcecode as zipfile</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">When project is found and user has access and job is initializing the sourcecode file will be uploaded</p>
<p class="tableblock"><em>This step is defined at method <code>uploadSourceCode</code> in class `com.daimler.sechub.domain.schedule.SchedulerUploadService`</em></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a href="#section-ucrestdoc-uc-UC_006">REST API documentation for usecase UC_006-User uploads source code </a></p>
</div>
</div>
<div class="sect3">
<h4 id="section-usecase-UC_007">9.1.8. UC_007-User approves sechub job</h4>
<div id="sechub-doclink-uc-user-approves-job" class="paragraph">
<p>A user wants to approve a former <a href="#sechub-doclink-uc-user-creates-job">created sechub job</a>.</p>
</div>
<div class="paragraph">
<p>This means the user has done all necessary preparations - e.g. <a href="#sechub-doclink-uc-user-uploads-sourcecode-for-job">uploading source code</a> for code scanning
- and wants the job marked as ready for execution</p>
</div>
<div class="paragraph">
<p><strong>Technical information</strong></p>
</div>
<div class="paragraph">
<p>You will find relevant code parts by searching for references of <code>@com.daimler.sechub.sharedkernel.usecases.user.execute.UseCaseUserApprovesJob</code></p>
</div>
<div class="paragraph">
<p><strong>Steps</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 5%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Nr</th>
<th class="tableblock halign-left valign-top">Title</th>
<th class="tableblock halign-left valign-top">Role(s)</th>
<th class="tableblock halign-left valign-top">Next</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Authenticated REST call</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROLE_SUPERADMIN, ROLE_USER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>This step is defined at method <code>approveJob</code> in class `com.daimler.sechub.domain.schedule.SchedulerRestController`</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Try to find project annd update execution state</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">When project is found and user has access and job is initializing the state will be updated and marked as ready for execution</p>
<p class="tableblock"><em>This step is defined at method <code>approveJob</code> in class `com.daimler.sechub.domain.schedule.SchedulerApproveJobService`</em></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a href="#section-ucrestdoc-uc-UC_007">REST API documentation for usecase UC_007-User approves sechub job </a></p>
</div>
</div>
<div class="sect3">
<h4 id="section-usecase-UC_008">9.1.9. UC_008-Sechub scheduler starts job</h4>
<div class="paragraph">
<p>Scheduler service starts next <code>SchedulerJob</code>. Before a user has only created and approved a job which was lead only to database persistence of JobData.
The work itself is triggered/executed here by asynchronous batch operation.</p>
</div>
<div class="paragraph">
<p><strong>Technical information</strong></p>
</div>
<div class="paragraph">
<p>You will find relevant code parts by searching for references of <code>@com.daimler.sechub.sharedkernel.usecases.job.UseCaseSchedulerStartsJob</code></p>
</div>
<div class="paragraph">
<p><strong>Steps</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 5%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Nr</th>
<th class="tableblock halign-left valign-top">Title</th>
<th class="tableblock halign-left valign-top">Role(s)</th>
<th class="tableblock halign-left valign-top">Next</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Scheduling</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fetches next schedule job from queue and trigger execution.</p>
<p class="tableblock"><em>This step is defined at method <code>triggerExecutionOfNextJob</code> in class `com.daimler.sechub.domain.schedule.SchedulerJobBatchTriggerService`</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Execution</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3, 4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Starts a spring boot batch job which does execute the scan asynchronous. If spring boot batch job cannot be started the next steps will not be executed.</p>
<p class="tableblock"><em>This step is defined at method <code>executeJob</code> in class `com.daimler.sechub.domain.schedule.ScheduleJobLauncherService`</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Batch Job</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">include::../code2doc/usecases/usecases/job/scheduler_starts_job_tasklet.adoc[]</p>
<p class="tableblock"><em>This step is defined at method <code>execute</code> in class `com.daimler.sechub.domain.schedule.batch.ScanExecutionTasklet`</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Store admin job info</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fetches event about started job and store info in admin domain.</p>
<p class="tableblock"><em>This step is defined at method <code>createByMessage</code> in class `com.daimler.sechub.domain.administration.job.JobInformationCreateService`</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Update admin job info</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Deletes store info in admin domain when job is done.</p>
<p class="tableblock"><em>This step is defined at method <code>delete</code> in class `com.daimler.sechub.domain.administration.job.JobInformationDeleteService`</em></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="section-usecase-UC_009">9.1.10. UC_009-User checks sechub job state</h4>
<div id="sechub-doclink-uc-user-checks-job-state" class="paragraph">
<p>User wants to get the state of the current running job.</p>
</div>
<div class="paragraph">
<p><strong>Technical information</strong></p>
</div>
<div class="paragraph">
<p>You will find relevant code parts by searching for references of <code>@com.daimler.sechub.sharedkernel.usecases.user.execute.UseCaseUserChecksJobStatus</code></p>
</div>
<div class="paragraph">
<p><strong>Steps</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 5%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Nr</th>
<th class="tableblock halign-left valign-top">Title</th>
<th class="tableblock halign-left valign-top">Role(s)</th>
<th class="tableblock halign-left valign-top">Next</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Authenticated REST call</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROLE_SUPERADMIN, ROLE_USER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>This step is defined at method <code>getJobStatus</code> in class `com.daimler.sechub.domain.schedule.SchedulerRestController`</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Try to find project annd fail or return job status</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>This step is defined at method <code>getJobStatus</code> in class `com.daimler.sechub.domain.schedule.SchedulerGetJobStatusService`</em></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a href="#section-ucrestdoc-uc-UC_009">REST API documentation for usecase UC_009-User checks sechub job state </a></p>
</div>
</div>
<div class="sect3">
<h4 id="section-usecase-UC_010">9.1.11. UC_010-User downloads sechub job report</h4>
<div id="sechub-doclink-uc-user-downloads-job-report" class="paragraph">
<p>A user wants to download an executed <code>SecHub</code> job by its given job UUID.</p>
</div>
<div class="paragraph">
<p>The report standard format will be json, so machine readable. But there is
also the option to download the report as HTML file.</p>
</div>
<div class="paragraph">
<p>The HTML file and also the JSON will only have a reduced view of the scan
results. Code snippets etc. can be found on the real security products.</p>
</div>
<div class="paragraph">
<p><strong>Technical information</strong></p>
</div>
<div class="paragraph">
<p>You will find relevant code parts by searching for references of <code>@com.daimler.sechub.sharedkernel.usecases.user.execute.UseCaseUserDownloadsJobReport</code></p>
</div>
<div class="paragraph">
<p><strong>Steps</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 5%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Nr</th>
<th class="tableblock halign-left valign-top">Title</th>
<th class="tableblock halign-left valign-top">Role(s)</th>
<th class="tableblock halign-left valign-top">Next</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">REST API call to get JSON report</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROLE_SUPERADMIN, ROLE_USER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>This step is defined at method <code>getScanReportResultJSON</code> in class `com.daimler.sechub.domain.scan.report.ScanReportRestController`</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">REST API call to get HTML report</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROLE_SUPERADMIN, ROLE_USER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>This step is defined at method <code>getScanReportResultHTML</code> in class `com.daimler.sechub.domain.scan.report.ScanReportRestController`</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resolve scan report result</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>This step is defined at method <code>getScanReportResult</code> in class `com.daimler.sechub.domain.scan.report.DownloadScanReportService`</em></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a href="#section-ucrestdoc-uc-UC_010">REST API documentation for usecase UC_010-User downloads sechub job report </a></p>
</div>
</div>
<div class="sect3">
<h4 id="section-usecase-UC_011">9.1.12. UC_011-User starts scan by client</h4>
<div id="sechub-doclink-uc-user-starts-scan-by-client" class="paragraph">
<p>Sechub has got it&#8217;s own client, written in go. The client is available for Linux and
Windows and can be downloaded at <a href="https://github.com/daimler/sechub" class="bare">https://github.com/daimler/sechub</a> .</p>
</div>
<div class="paragraph">
<p>The client encapsulated and simplifies the necessary steps to do a scan to one single step only</p>
</div>
<div class="paragraph">
<p>It does automate following usecases:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="#sechub-doclink-uc-user-creates-job">Create a job</a></p>
</li>
<li>
<p><a href="#sechub-doclink-uc-user-uploads-sourcecode-for-job">Upload sources if necessary</a></p>
</li>
<li>
<p><a href="#sechub-doclink-uc-user-approves-job">Approve the job</a></p>
</li>
<li>
<p><a href="#sechub-doclink-uc-user-checks-job-state">Check job has finished</a> periodically</p>
</li>
<li>
<p><a href="#sechub-doclink-uc-user-downloads-job-report">Download scan report</a></p>
</li>
</ol>
</div>
<div class="paragraph">
<p>If the scan report traffic light is RED the build client will return an System exit code greater than zero so
build will break.</p>
</div>
<div class="paragraph">
<p>More information about the client can be found inside the user documentation.</p>
</div>
<div class="paragraph">
<p><strong>Technical information</strong></p>
</div>
<div class="paragraph">
<p>You will find relevant code parts by searching for references of <code>@com.daimler.sechub.sharedkernel.usecases.user.execute.UseCaseUserStartsSynchronousScanByClient</code></p>
</div>
<div class="paragraph">
<p><strong>Steps</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 5%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Nr</th>
<th class="tableblock halign-left valign-top">Title</th>
<th class="tableblock halign-left valign-top">Role(s)</th>
<th class="tableblock halign-left valign-top">Next</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">create new job</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROLE_SUPERADMIN, ROLE_USER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2, 3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>This step is defined at method <code>createJob</code> in class `com.daimler.sechub.domain.schedule.SchedulerRestController`</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">upload sourcecode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROLE_SUPERADMIN, ROLE_USER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>This step is defined at method <code>uploadSourceCode</code> in class `com.daimler.sechub.domain.schedule.SchedulerRestController`</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">approve job</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROLE_SUPERADMIN, ROLE_USER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>This step is defined at method <code>approveJob</code> in class `com.daimler.sechub.domain.schedule.SchedulerRestController`</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">download job report and traffic light</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROLE_SUPERADMIN, ROLE_USER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>This step is defined at method <code>getScanReportResultJSON</code> in class `com.daimler.sechub.domain.scan.report.ScanReportRestController`</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">get job status</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROLE_SUPERADMIN, ROLE_USER</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>This step is defined at method <code>getJobStatus</code> in class `com.daimler.sechub.domain.schedule.SchedulerRestController`</em></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="section-usecase-UC_012">9.1.13. UC_012-User clicks link to get new api token</h4>
<div id="sechub-doclink-uc-user-clicks-link-to-get-new-apitoken" class="paragraph">
<p>The user has to open the received email and click there on the contained link with a onetimetoken api which is another usecase.</p>
</div>
<div class="paragraph">
<p>This use case is either triggered by
<a href="#sechub-doclink-uc-user-clicks-link-to-get-new-apitoken">when a new user was initial registered</a> or
<a href="#sechub-doclink-uc-user-clicks-link-to-get-new-apitoken">a new API token was requested by user</a>.</p>
</div>
<div class="paragraph">
<p><strong>Technical information</strong></p>
</div>
<div class="paragraph">
<p>You will find relevant code parts by searching for references of <code>@com.daimler.sechub.sharedkernel.usecases.user.UseCaseUserClicksLinkToGetNewAPIToken</code></p>
</div>
<div class="paragraph">
<p><strong>Steps</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 5%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Nr</th>
<th class="tableblock halign-left valign-top">Title</th>
<th class="tableblock halign-left valign-top">Role(s)</th>
<th class="tableblock halign-left valign-top">Next</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rest call</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User opens url by browser</p>
<p class="tableblock"><em>This step is defined at method <code>getNewAPITokenByOneTimeToken</code> in class `com.daimler.sechub.domain.administration.user.AnonymousUserGetApiTokenByOneTimeTokenRestController`</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Validation and update</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3, 4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">When its a valid one time token a new api token is generated and persisted hashed to user. The token itself is returned. When not valid an emtpy string is the result &#8230;&#8203;</p>
<p class="tableblock"><em>This step is defined at method <code>createNewAPITokenForUserByOneTimeToken</code> in class `com.daimler.sechub.domain.administration.user.AnonymousUserGetAPITokenByOneTimeTokenService`</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Update auth data</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>This step is defined at method <code>updateAPIToken</code> in class `com.daimler.sechub.domain.authorization.service.AuthUpdateUserApiTokenService`</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inform user about api token change done</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>This step is defined at method <code>notify</code> in class `com.daimler.sechub.domain.notification.user.NewAPITokenAppliedUserNotificationService`</em></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a href="#section-ucrestdoc-uc-UC_012">REST API documentation for usecase UC_012-User clicks link to get new api token </a></p>
</div>
</div>
<div class="sect3">
<h4 id="section-usecase-UC_013">9.1.14. UC_013-Admin creates a project</h4>
<div class="paragraph">
<p>Administrator creates a project inside <code>SecHub</code>.</p>
</div>
<div class="paragraph">
<p>A Project is the main entry point for every <code>SecHub</code> operation!
For example a user must have a project assigned to be able to scan on it!</p>
</div>
<div class="paragraph">
<p><strong>Technical information</strong></p>
</div>
<div class="paragraph">
<p>You will find relevant code parts by searching for references of <code>@com.daimler.sechub.sharedkernel.usecases.admin.project.UseCaseAdministratorCreatesProject</code></p>
</div>
<div class="paragraph">
<p><strong>Steps</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 5%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Nr</th>
<th class="tableblock halign-left valign-top">Title</th>
<th class="tableblock halign-left valign-top">Role(s)</th>
<th class="tableblock halign-left valign-top">Next</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rest call</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROLE_SUPERADMIN</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Administrator creates a new project by calling rest api</p>
<p class="tableblock"><em>This step is defined at method <code>createProject</code> in class `com.daimler.sechub.domain.administration.project.ProjectAdministrationRestController`</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Create project</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROLE_SUPERADMIN</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The service will create the project when not already existing with such name.</p>
<p class="tableblock"><em>This step is defined at method <code>createProject</code> in class `com.daimler.sechub.domain.administration.project.ProjectCreationService`</em></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a href="#section-ucrestdoc-uc-UC_013">REST API documentation for usecase UC_013-Admin creates a project </a></p>
</div>
</div>
<div class="sect3">
<h4 id="section-usecase-UC_014">9.1.15. UC_014-Admin lists all projects</h4>
<div class="paragraph">
<p>An administrator downloads a json file containing all project ids</p>
</div>
<div class="paragraph">
<p><strong>Technical information</strong></p>
</div>
<div class="paragraph">
<p>You will find relevant code parts by searching for references of <code>@com.daimler.sechub.sharedkernel.usecases.admin.project.UseCaseAdministratorListsAllProjects</code></p>
</div>
<div class="paragraph">
<p><strong>Steps</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 5%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Nr</th>
<th class="tableblock halign-left valign-top">Title</th>
<th class="tableblock halign-left valign-top">Role(s)</th>
<th class="tableblock halign-left valign-top">Next</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rest call</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROLE_SUPERADMIN</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All project ids of sechub are returned as json</p>
<p class="tableblock"><em>This step is defined at method <code>listProjects</code> in class `com.daimler.sechub.domain.administration.project.ProjectAdministrationRestController`</em></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a href="#section-ucrestdoc-uc-UC_014">REST API documentation for usecase UC_014-Admin lists all projects </a></p>
</div>
</div>
<div class="sect3">
<h4 id="section-usecase-UC_015">9.1.16. UC_015-Admin assigns user to project</h4>
<div class="paragraph">
<p>An administrator assigns an user to an existing sechub project.</p>
</div>
<div class="paragraph">
<p><strong>Technical information</strong></p>
</div>
<div class="paragraph">
<p>You will find relevant code parts by searching for references of <code>@com.daimler.sechub.sharedkernel.usecases.admin.user.UseCaseAdministratorAssignsUserToProject</code></p>
</div>
<div class="paragraph">
<p><strong>Steps</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 5%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Nr</th>
<th class="tableblock halign-left valign-top">Title</th>
<th class="tableblock halign-left valign-top">Role(s)</th>
<th class="tableblock halign-left valign-top">Next</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rest call</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROLE_SUPERADMIN</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Administrator does call rest API to assign user</p>
<p class="tableblock"><em>This step is defined at method <code>assignUserToProject</code> in class `com.daimler.sechub.domain.administration.project.ProjectAdministrationRestController`</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Assign user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROLE_SUPERADMIN</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The service will add the user to the project. If user does not have ROLE_USER it will obtain it</p>
<p class="tableblock"><em>This step is defined at method <code>assignUserToProject</code> in class `com.daimler.sechub.domain.administration.project.ProjectAssignUserService`</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Update schedule authorization parts</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>This step is defined at method <code>grantUserAccessToProject</code> in class `com.daimler.sechub.domain.schedule.access.ScheduleGrantUserAccessToProjectService`</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Update scan authorization parts</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>This step is defined at method <code>grantUserAccessToProject</code> in class `com.daimler.sechub.domain.scan.access.ScanGrantUserAccessToProjectService`</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Roles changed in auth</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Authorization layer adds ROLE_USER</p>
<p class="tableblock"><em>This step is defined at method <code>updateRoles</code> in class `com.daimler.sechub.domain.authorization.service.AuthUserUpdateRolesService`</em></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a href="#section-ucrestdoc-uc-UC_015">REST API documentation for usecase UC_015-Admin assigns user to project </a></p>
</div>
</div>
<div class="sect3">
<h4 id="section-usecase-UC_016">9.1.17. UC_016-Admin unassigns user from project</h4>
<div class="paragraph">
<p>An administrator unassigns an user from a sechub project.</p>
</div>
<div class="paragraph">
<p><strong>Technical information</strong></p>
</div>
<div class="paragraph">
<p>You will find relevant code parts by searching for references of <code>@com.daimler.sechub.sharedkernel.usecases.admin.user.UseCaseAdministratorUnassignsUserFromProject</code></p>
</div>
<div class="paragraph">
<p><strong>Steps</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 5%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Nr</th>
<th class="tableblock halign-left valign-top">Title</th>
<th class="tableblock halign-left valign-top">Role(s)</th>
<th class="tableblock halign-left valign-top">Next</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rest call</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROLE_SUPERADMIN</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Administrator does call rest API to unassign user</p>
<p class="tableblock"><em>This step is defined at method <code>unassignUserFromProject</code> in class `com.daimler.sechub.domain.administration.project.ProjectAdministrationRestController`</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Update authorization parts</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>This step is defined at method <code>revokeUserAccessFromProject</code> in class `com.daimler.sechub.domain.scan.access.ScanRevokeUserAccessFromProjectService`</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Update authorization parts</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>This step is defined at method <code>revokeUserAccessFromProject</code> in class `com.daimler.sechub.domain.schedule.access.ScheduleRevokeUserAccessFromProjectService`</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unassign user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROLE_SUPERADMIN</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The service will remove the user to the project. If users has no longer access to projects ROLE_USER will be removed</p>
<p class="tableblock"><em>This step is defined at method <code>unassignUserFromProject</code> in class `com.daimler.sechub.domain.administration.project.ProjectUnassignUserService`</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Roles changed in auth</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Authorization layer removes ROLE_USER</p>
<p class="tableblock"><em>This step is defined at method <code>updateRoles</code> in class `com.daimler.sechub.domain.authorization.service.AuthUserUpdateRolesService`</em></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a href="#section-ucrestdoc-uc-UC_016">REST API documentation for usecase UC_016-Admin unassigns user from project </a></p>
</div>
</div>
<div class="sect3">
<h4 id="section-usecase-UC_017">9.1.18. UC_017-Admin shows user details</h4>
<div class="paragraph">
<p>An administrator downloads a json file containing json containing user details</p>
</div>
<div class="paragraph">
<p><strong>Technical information</strong></p>
</div>
<div class="paragraph">
<p>You will find relevant code parts by searching for references of <code>@com.daimler.sechub.sharedkernel.usecases.admin.user.UseCaseAdministratorShowsUserDetails</code></p>
</div>
<div class="paragraph">
<p><strong>Steps</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 5%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Nr</th>
<th class="tableblock halign-left valign-top">Title</th>
<th class="tableblock halign-left valign-top">Role(s)</th>
<th class="tableblock halign-left valign-top">Next</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rest call</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROLE_SUPERADMIN</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Json returned containing details about user and her/his projects</p>
<p class="tableblock"><em>This step is defined at method <code>showUserDetails</code> in class `com.daimler.sechub.domain.administration.user.UserAdministrationRestController`</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Service fetches user details.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROLE_SUPERADMIN</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The service will fetch user details</p>
<p class="tableblock"><em>This step is defined at method <code>fetchDetails</code> in class `com.daimler.sechub.domain.administration.user.UserDetailInformationService`</em></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a href="#section-ucrestdoc-uc-UC_017">REST API documentation for usecase UC_017-Admin shows user details </a></p>
</div>
</div>
<div class="sect3">
<h4 id="section-usecase-UC_018">9.1.19. UC_018-Admin deletes a user</h4>
<div class="paragraph">
<p>An administrator deletes an user. All associations etc. are removed as well</p>
</div>
<div class="paragraph">
<p><strong>Technical information</strong></p>
</div>
<div class="paragraph">
<p>You will find relevant code parts by searching for references of <code>@com.daimler.sechub.sharedkernel.usecases.admin.user.UseCaseAdministratorDeletesUser</code></p>
</div>
<div class="paragraph">
<p><strong>Steps</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 5%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Nr</th>
<th class="tableblock halign-left valign-top">Title</th>
<th class="tableblock halign-left valign-top">Role(s)</th>
<th class="tableblock halign-left valign-top">Next</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rest call</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROLE_SUPERADMIN</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User will be deleted</p>
<p class="tableblock"><em>This step is defined at method <code>deleteUser</code> in class `com.daimler.sechub.domain.administration.user.UserAdministrationRestController`</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Service deletes user.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROLE_SUPERADMIN</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3, 4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The service will delete the user with dependencies and triggers asynchronous events</p>
<p class="tableblock"><em>This step is defined at method <code>deleteUser</code> in class `com.daimler.sechub.domain.administration.user.UserDeleteService`</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Persistence</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROLE_SUPERADMIN</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Existing signup will be deleted</p>
<p class="tableblock"><em>This step is defined at method <code>delete</code> in class `com.daimler.sechub.domain.administration.signup.SignupDeleteService`</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Service deletes projects.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROLE_SUPERADMIN</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3, 4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The service will delete the project with dependencies and triggers asynchronous events</p>
<p class="tableblock"><em>This step is defined at method <code>deletProject</code> in class `com.daimler.sechub.domain.administration.project.ProjectDeleteService`</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">revoke user from schedule access</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>This step is defined at method <code>revokeUserAccess</code> in class `com.daimler.sechub.domain.schedule.access.ScheduleRevokeUserAccessAtAllService`</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">revoke user from schedule access</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>This step is defined at method <code>revokeUserAccess</code> in class `com.daimler.sechub.domain.scan.access.ScanRevokeUserAccessAtAllService`</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Delete user access</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Authorization layer is informed about user deltete and removes access to sechub. But without any project information</p>
<p class="tableblock"><em>This step is defined at method <code>deleteUser</code> in class `com.daimler.sechub.domain.authorization.service.AuthUserDeleteService`</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inform user that the account has been deleted by administrator</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>This step is defined at method <code>notify</code> in class `com.daimler.sechub.domain.notification.user.UserDeletedNotificationService`</em></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a href="#section-ucrestdoc-uc-UC_018">REST API documentation for usecase UC_018-Admin deletes a user </a></p>
</div>
</div>
<div class="sect3">
<h4 id="section-usecase-UC_019">9.1.20. UC_019-Admin deletes user signup</h4>
<div class="paragraph">
<p>In this usecase the administrator will not accept the self registration done by an user but delete the entry.</p>
</div>
<div class="paragraph">
<p><strong>Technical information</strong></p>
</div>
<div class="paragraph">
<p>You will find relevant code parts by searching for references of <code>@com.daimler.sechub.sharedkernel.usecases.admin.signup.UseCaseAdministratorDeletesSignup</code></p>
</div>
<div class="paragraph">
<p><strong>Steps</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 5%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Nr</th>
<th class="tableblock halign-left valign-top">Title</th>
<th class="tableblock halign-left valign-top">Role(s)</th>
<th class="tableblock halign-left valign-top">Next</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rest API call</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROLE_SUPERADMIN</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rest api called to remove user signup</p>
<p class="tableblock"><em>This step is defined at method <code>deleteSignup</code> in class `com.daimler.sechub.domain.administration.signup.SignupAdministrationRestController`</em></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a href="#section-ucrestdoc-uc-UC_019">REST API documentation for usecase UC_019-Admin deletes user signup </a></p>
</div>
</div>
<div class="sect3">
<h4 id="section-usecase-UC_020">9.1.21. UC_020-Admin deletes a project</h4>
<div class="paragraph">
<p>Administrator deletes a project from <code>SecHub</code>.</p>
</div>
<div class="paragraph">
<p>A Project is the main entry point for every <code>SecHub</code> operation and deleting this will result in:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Terminate all running jobs for this project</p>
</li>
<li>
<p>Remove project administration setup</p>
</li>
<li>
<p>User to project association</p>
</li>
<li>
<p>All existing project report results</p>
</li>
</ul>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Albert Tregnaghi, 2018-08-03: This is currently not full implemented!
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong>Technical information</strong></p>
</div>
<div class="paragraph">
<p>You will find relevant code parts by searching for references of <code>@com.daimler.sechub.sharedkernel.usecases.admin.project.UseCaseAdministratorDeleteProject</code></p>
</div>
<div class="paragraph">
<p><strong>Steps</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 5%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Nr</th>
<th class="tableblock halign-left valign-top">Title</th>
<th class="tableblock halign-left valign-top">Role(s)</th>
<th class="tableblock halign-left valign-top">Next</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rest call</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROLE_SUPERADMIN</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Project will be deleted</p>
<p class="tableblock"><em>This step is defined at method <code>deleteProject</code> in class `com.daimler.sechub.domain.administration.project.ProjectAdministrationRestController`</em></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a href="#section-ucrestdoc-uc-UC_020">REST API documentation for usecase UC_020-Admin deletes a project </a></p>
</div>
</div>
<div class="sect3">
<h4 id="section-usecase-UC_021">9.1.22. UC_021-Admin shows project details</h4>
<div class="paragraph">
<p>An administrator downloads a json file containing json with project details</p>
</div>
<div class="paragraph">
<p><strong>Technical information</strong></p>
</div>
<div class="paragraph">
<p>You will find relevant code parts by searching for references of <code>@com.daimler.sechub.sharedkernel.usecases.admin.project.UseCaseAdministratorShowsProjectDetails</code></p>
</div>
<div class="paragraph">
<p><strong>Steps</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 5%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Nr</th>
<th class="tableblock halign-left valign-top">Title</th>
<th class="tableblock halign-left valign-top">Role(s)</th>
<th class="tableblock halign-left valign-top">Next</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rest call</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROLE_SUPERADMIN</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Json returned containing details about project</p>
<p class="tableblock"><em>This step is defined at method <code>showProjectDetails</code> in class `com.daimler.sechub.domain.administration.project.ProjectAdministrationRestController`</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Service fetches project details.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROLE_SUPERADMIN</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The service will fetch project details</p>
<p class="tableblock"><em>This step is defined at method <code>fetchDetails</code> in class `com.daimler.sechub.domain.administration.project.ProjectDetailInformationService`</em></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a href="#section-ucrestdoc-uc-UC_021">REST API documentation for usecase UC_021-Admin shows project details </a></p>
</div>
</div>
<div class="sect3">
<h4 id="section-usecase-UC_022">9.1.23. UC_022-Update project whitelist</h4>
<div class="paragraph">
<p>Administrator creates a project inside <code>SecHub</code>.</p>
</div>
<div class="paragraph">
<p>A Project is the main entry point for every <code>SecHub</code> operation!
For example a user must have a project assigned to be able to scan on it!</p>
</div>
<div class="paragraph">
<p><strong>Technical information</strong></p>
</div>
<div class="paragraph">
<p>You will find relevant code parts by searching for references of <code>@com.daimler.sechub.sharedkernel.usecases.admin.project.UseCaseUpdateProjectWhitelist</code></p>
</div>
<div class="paragraph">
<p><strong>Steps</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 5%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Nr</th>
<th class="tableblock halign-left valign-top">Title</th>
<th class="tableblock halign-left valign-top">Role(s)</th>
<th class="tableblock halign-left valign-top">Next</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rest call</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROLE_SUPERADMIN</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">White list will be updated</p>
<p class="tableblock"><em>This step is defined at method <code>updateProjectWhitelist</code> in class `com.daimler.sechub.domain.administration.project.ProjectUpdateAdministrationRestController`</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Update project</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROLE_SUPERADMIN</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The service will update the <a href="#section-shared-project">Project whitelist</a>.</p>
<p class="tableblock"><em>This step is defined at method <code>updateProjectWhitelist</code> in class `com.daimler.sechub.domain.administration.project.ProjectUpdateWhitelistService`</em></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a href="#section-ucrestdoc-uc-UC_022">REST API documentation for usecase UC_022-Update project whitelist </a></p>
</div>
</div>
<div class="sect3">
<h4 id="section-usecase-UC_023">9.1.24. UC_023-Admin lists all running jobs</h4>
<div class="paragraph">
<p>Administrator lists all running jobs inside <code>SecHub</code>.
The list entries do contain</p>
</div>
<div class="ulist">
<ul>
<li>
<p>jobUUID</p>
</li>
<li>
<p>project id</p>
</li>
<li>
<p>owner of job (id of user who executed job)</p>
</li>
<li>
<p>status</p>
</li>
<li>
<p>since time stamp</p>
</li>
<li>
<p>configuration</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These entries are only available at running jobs</p>
</div>
<div class="paragraph">
<p>This is an important action to get info about current treshold in sechub.</p>
</div>
<div class="paragraph">
<p><strong>Technical information</strong></p>
</div>
<div class="paragraph">
<p>You will find relevant code parts by searching for references of <code>@com.daimler.sechub.sharedkernel.usecases.job.UseCaseAdministratorListsAllRunningJobs</code></p>
</div>
<div class="paragraph">
<p><strong>Steps</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 5%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Nr</th>
<th class="tableblock halign-left valign-top">Title</th>
<th class="tableblock halign-left valign-top">Role(s)</th>
<th class="tableblock halign-left valign-top">Next</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rest call</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROLE_SUPERADMIN</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Administrator lists all running jobs by calling rest api</p>
<p class="tableblock"><em>This step is defined at method <code>fetchAllRunningJobs</code> in class `com.daimler.sechub.domain.administration.job.JobAdministrationRestController`</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fetchjob information from database</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fetches stored job information from administration database.</p>
<p class="tableblock"><em>This step is defined at method <code>fetchRunningJobs</code> in class `com.daimler.sechub.domain.administration.job.JobInformationListService`</em></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a href="#section-ucrestdoc-uc-UC_023">REST API documentation for usecase UC_023-Admin lists all running jobs </a></p>
</div>
</div>
<div class="sect3">
<h4 id="section-usecase-UC_024">9.1.25. UC_024-User requests new API token</h4>
<div id="sechub-doclink-uc-user-requests-new-apittoken" class="paragraph">
<p>It shall be possible to achieve this by calling REST API and also by just visiting
static sechub website and entering mail adress and post request by simple web form.</p>
</div>
<div class="paragraph">
<p>When user exists a new one time token will be created and sent to user per email - so same way as done when a new
user signup is accepted by admin.</p>
</div>
<div class="paragraph">
<p>The user has to <a href="#sechub-doclink-uc-user-clicks-link-to-get-new-apitoken">open the received email</a>.</p>
</div>
<div class="paragraph">
<p><strong>Technical information</strong></p>
</div>
<div class="paragraph">
<p>You will find relevant code parts by searching for references of <code>@com.daimler.sechub.sharedkernel.usecases.user.UseCaseUserRequestsNewApiToken</code></p>
</div>
<div class="paragraph">
<p><strong>Steps</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 5%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Nr</th>
<th class="tableblock halign-left valign-top">Title</th>
<th class="tableblock halign-left valign-top">Role(s)</th>
<th class="tableblock halign-left valign-top">Next</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rest API call</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rest api called to request new user api token. Normally done by user itself</p>
<p class="tableblock"><em>This step is defined at method <code>anonymousRequestToGetNewApiTokenForUserMailAdress</code> in class `com.daimler.sechub.domain.administration.user.AnonymousUserRequestNewApiTokenRestController`</em></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a href="#section-ucrestdoc-uc-UC_024">REST API documentation for usecase UC_024-User requests new API token </a></p>
</div>
</div>
<div class="sect3">
<h4 id="section-usecase-UC_025">9.1.26. UC_025-Admin shows scan logs for project</h4>
<div class="paragraph">
<p>An admin downloads a json file containing log for scans of project</p>
</div>
<div class="paragraph">
<p><strong>Technical information</strong></p>
</div>
<div class="paragraph">
<p>You will find relevant code parts by searching for references of <code>@com.daimler.sechub.sharedkernel.usecases.admin.project.UseCaseAdministratorShowsScanLogsForProject</code></p>
</div>
<div class="paragraph">
<p><strong>Steps</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 5%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Nr</th>
<th class="tableblock halign-left valign-top">Title</th>
<th class="tableblock halign-left valign-top">Role(s)</th>
<th class="tableblock halign-left valign-top">Next</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">REST API call to get JSON list</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROLE_SUPERADMIN</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>This step is defined at method <code>getScanLogsForProject</code> in class `com.daimler.sechub.domain.scan.log.ScanLogRestController`</em></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a href="#section-ucrestdoc-uc-UC_025">REST API documentation for usecase UC_025-Admin shows scan logs for project </a></p>
</div>
</div>
<div class="sect3">
<h4 id="section-usecase-UC_026">9.1.27. UC_026-Admin downloads all details about a scan job</h4>
<div class="paragraph">
<p>An administrator downloads a zip file containing full details of a scan. Main reason for this use case is for debugging when there are problems with security products.Another reason is for developers to adopt new security products easier.</p>
</div>
<div class="paragraph">
<p><strong>Technical information</strong></p>
</div>
<div class="paragraph">
<p>You will find relevant code parts by searching for references of <code>@com.daimler.sechub.sharedkernel.usecases.admin.project.UseCaseAdministratorDownloadsFullScanDataForJob</code></p>
</div>
<div class="paragraph">
<p><strong>Steps</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 5%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Nr</th>
<th class="tableblock halign-left valign-top">Title</th>
<th class="tableblock halign-left valign-top">Role(s)</th>
<th class="tableblock halign-left valign-top">Next</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">REST API call to zip file containing full scan data</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROLE_SUPERADMIN</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>This step is defined at method <code>getFullScanZipFileForJob</code> in class `com.daimler.sechub.domain.scan.admin.FullScanDataRestController`</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Collect all scan data</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROLE_SUPERADMIN</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>This step is defined at method <code>getFullScanData</code> in class `com.daimler.sechub.domain.scan.admin.FullScanDataService`</em></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a href="#section-ucrestdoc-uc-UC_026">REST API documentation for usecase UC_026-Admin downloads all details about a scan job </a></p>
</div>
</div>
<div class="sect3">
<h4 id="section-usecase-UC_027">9.1.28. UC_027-Admin grants admin rights to user</h4>
<div class="paragraph">
<p>An administrator grants admin rights to another user. So this user will become also an administrator.</p>
</div>
<div class="paragraph">
<p><strong>Technical information</strong></p>
</div>
<div class="paragraph">
<p>You will find relevant code parts by searching for references of <code>@com.daimler.sechub.sharedkernel.usecases.admin.user.UseCaseAdministratorGrantsAdminRightsToUser</code></p>
</div>
<div class="paragraph">
<p><strong>Steps</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 5%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Nr</th>
<th class="tableblock halign-left valign-top">Title</th>
<th class="tableblock halign-left valign-top">Role(s)</th>
<th class="tableblock halign-left valign-top">Next</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rest call</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROLE_SUPERADMIN</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User will be granted admin rights</p>
<p class="tableblock"><em>This step is defined at method <code>grantSuperAdminrights</code> in class `com.daimler.sechub.domain.administration.user.UserAdministrationRestController`</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Service grants user admin rights.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROLE_SUPERADMIN</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3, 4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The service will grant user admin righs and triggers asynchronous events</p>
<p class="tableblock"><em>This step is defined at method <code>grantSuperAdminRightsFor</code> in class `com.daimler.sechub.domain.administration.user.UserGrantSuperAdminRightsService`</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inform user that he/she becomes administrator</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>This step is defined at method <code>notify</code> in class `com.daimler.sechub.domain.notification.user.InformUserThatUserBecomesAdminNotificationService`</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inform sechub admins that another user became administrator</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>This step is defined at method <code>notify</code> in class `com.daimler.sechub.domain.notification.superadmin.InformAdminsThatUserBecomesAdminNotificationService`</em></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a href="#section-ucrestdoc-uc-UC_027">REST API documentation for usecase UC_027-Admin grants admin rights to user </a></p>
</div>
</div>
<div class="sect3">
<h4 id="section-usecase-UC_028">9.1.29. UC_028-Admin revokes admin rights from an admin</h4>
<div class="paragraph">
<p>An administrator revokes existing admin rights from another administrator.</p>
</div>
<div class="paragraph">
<p><strong>Technical information</strong></p>
</div>
<div class="paragraph">
<p>You will find relevant code parts by searching for references of <code>@com.daimler.sechub.sharedkernel.usecases.admin.user.UseCaseAdministratorRevokesAdminRightsFromAdmin</code></p>
</div>
<div class="paragraph">
<p><strong>Steps</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 5%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Nr</th>
<th class="tableblock halign-left valign-top">Title</th>
<th class="tableblock halign-left valign-top">Role(s)</th>
<th class="tableblock halign-left valign-top">Next</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rest call</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROLE_SUPERADMIN</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Admin rights will be revoked from admin</p>
<p class="tableblock"><em>This step is defined at method <code>revokeSuperAdminrights</code> in class `com.daimler.sechub.domain.administration.user.UserAdministrationRestController`</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Service revokes user admin rights.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROLE_SUPERADMIN</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3, 4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The service will revoke user admin righs and triggers asynchronous events</p>
<p class="tableblock"><em>This step is defined at method <code>revokeSuperAdminRightsFrom</code> in class `com.daimler.sechub.domain.administration.user.UserRevokeSuperAdminRightsService`</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inform user about loosing administrator rights</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>This step is defined at method <code>notify</code> in class `com.daimler.sechub.domain.notification.user.InformUserThatUserNoLongerAdminNotificationService`</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inform sechub admins that another admin is no longer admin</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>This step is defined at method <code>notify</code> in class `com.daimler.sechub.domain.notification.superadmin.InformAdminsThatUserNoLongerAdminNotificationService`</em></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a href="#section-ucrestdoc-uc-UC_028">REST API documentation for usecase UC_028-Admin revokes admin rights from an admin </a></p>
</div>
</div>
<div class="sect3">
<h4 id="section-usecase-UC_029">9.1.30. UC_029-Admin lists all admins</h4>
<div class="paragraph">
<p>An administrator downloads a json file containing all names of sechub admins</p>
</div>
<div class="paragraph">
<p><strong>Technical information</strong></p>
</div>
<div class="paragraph">
<p>You will find relevant code parts by searching for references of <code>@com.daimler.sechub.sharedkernel.usecases.admin.user.UseCaseAdministratorListsAllAdmins</code></p>
</div>
<div class="paragraph">
<p><strong>Steps</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 5%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Nr</th>
<th class="tableblock halign-left valign-top">Title</th>
<th class="tableblock halign-left valign-top">Role(s)</th>
<th class="tableblock halign-left valign-top">Next</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rest call</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROLE_SUPERADMIN</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All userids of sechub administrators are returned as json</p>
<p class="tableblock"><em>This step is defined at method <code>listAdministrators</code> in class `com.daimler.sechub.domain.administration.user.UserAdministrationRestController`</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Service call</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ROLE_SUPERADMIN</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All userids of sechub administrators are returned as json</p>
<p class="tableblock"><em>This step is defined at method <code>listAdministrators</code> in class `com.daimler.sechub.domain.administration.user.UserListService`</em></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><a href="#section-ucrestdoc-uc-UC_029">REST API documentation for usecase UC_029-Admin lists all admins </a></p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="api">10. API</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="section-ucrestdoc">10.1. Rest API documentation</h3>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
The complete documentation about REST API is generated. If you want to change content, please search for
     <code>@UseCaseRestDoc</code> references in source code and make necessary changes inside code!
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="overview-2">10.1.1. Overview</h4>
<div class="sect4">
<h5 id="user-administration-2">10.1.1.1. User administration</h5>
<div class="paragraph">
<p>Usecases handling administration of users</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#section-ucrestdoc-uc-UC_004">REST API for UC_004-Admin lists all users </a></p>
</li>
<li>
<p><a href="#section-ucrestdoc-uc-UC_015">REST API for UC_015-Admin assigns user to project </a></p>
</li>
<li>
<p><a href="#section-ucrestdoc-uc-UC_016">REST API for UC_016-Admin unassigns user from project </a></p>
</li>
<li>
<p><a href="#section-ucrestdoc-uc-UC_017">REST API for UC_017-Admin shows user details </a></p>
</li>
<li>
<p><a href="#section-ucrestdoc-uc-UC_018">REST API for UC_018-Admin deletes a user </a></p>
</li>
<li>
<p><a href="#section-ucrestdoc-uc-UC_021">REST API for UC_021-Admin shows project details </a></p>
</li>
<li>
<p><a href="#section-ucrestdoc-uc-UC_026">REST API for UC_026-Admin downloads all details about a scan job </a></p>
</li>
<li>
<p><a href="#section-ucrestdoc-uc-UC_027">REST API for UC_027-Admin grants admin rights to user </a></p>
</li>
<li>
<p><a href="#section-ucrestdoc-uc-UC_028">REST API for UC_028-Admin revokes admin rights from an admin </a></p>
</li>
<li>
<p><a href="#section-ucrestdoc-uc-UC_029">REST API for UC_029-Admin lists all admins </a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="project-administration-2">10.1.1.2. Project administration</h5>
<div class="paragraph">
<p>Usecases for project administration</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#section-ucrestdoc-uc-UC_013">REST API for UC_013-Admin creates a project </a></p>
</li>
<li>
<p><a href="#section-ucrestdoc-uc-UC_014">REST API for UC_014-Admin lists all projects </a></p>
</li>
<li>
<p><a href="#section-ucrestdoc-uc-UC_016">REST API for UC_016-Admin unassigns user from project </a></p>
</li>
<li>
<p><a href="#section-ucrestdoc-uc-UC_020">REST API for UC_020-Admin deletes a project </a></p>
</li>
<li>
<p><a href="#section-ucrestdoc-uc-UC_022">REST API for UC_022-Update project whitelist </a></p>
</li>
<li>
<p><a href="#section-ucrestdoc-uc-UC_025">REST API for UC_025-Admin shows scan logs for project </a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="user-profile-2">10.1.1.3. User profile</h5>
<div class="paragraph">
<p>User actions belonging to their profiles</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#section-ucrestdoc-uc-UC_012">REST API for UC_012-User clicks link to get new api token </a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="sechub-execution-2">10.1.1.4. Sechub execution</h5>
<div class="paragraph">
<p>Execution of sechub -either by CLI or direct with REST api call</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#section-ucrestdoc-uc-UC_005">REST API for UC_005-User creates a new sechub job </a></p>
</li>
<li>
<p><a href="#section-ucrestdoc-uc-UC_006">REST API for UC_006-User uploads source code </a></p>
</li>
<li>
<p><a href="#section-ucrestdoc-uc-UC_007">REST API for UC_007-User approves sechub job </a></p>
</li>
<li>
<p><a href="#section-ucrestdoc-uc-UC_009">REST API for UC_009-User checks sechub job state </a></p>
</li>
<li>
<p><a href="#section-ucrestdoc-uc-UC_010">REST API for UC_010-User downloads sechub job report </a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="sign-up-2">10.1.1.5. Sign up</h5>
<div class="paragraph">
<p>All these usecases are handling user sign up (part of user self registration process)</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#section-ucrestdoc-uc-UC_001">REST API for UC_001-User self registration </a></p>
</li>
<li>
<p><a href="#section-ucrestdoc-uc-UC_002">REST API for UC_002-Admin lists open user signups </a></p>
</li>
<li>
<p><a href="#section-ucrestdoc-uc-UC_003">REST API for UC_003-Admin applies self registration </a></p>
</li>
<li>
<p><a href="#section-ucrestdoc-uc-UC_019">REST API for UC_019-Admin deletes user signup </a></p>
</li>
<li>
<p><a href="#section-ucrestdoc-uc-UC_024">REST API for UC_024-User requests new API token </a></p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="job-administration-2">10.1.1.6. Job administration</h5>
<div class="paragraph">
<p>Usecases about job administration</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#section-ucrestdoc-uc-UC_023">REST API for UC_023-Admin lists all running jobs </a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="admin-lists-all-users">10.1.2. Admin lists all users</h4>
<div id="section-ucrestdoc-uc-UC_004" class="paragraph">
<p>REST API for usecase <a href="#section-usecase-UC_004">UC_004-Admin lists all users </a></p>
</div>
<div id="section-ucrestdoc-UC_004-default" class="paragraph">
<p><strong>Curl request</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ curl 'https://sechub.example.com/api/admin/users' -i -X GET</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="admin-assigns-user-to-project">10.1.3. Admin assigns user to project</h4>
<div id="section-ucrestdoc-uc-UC_015" class="paragraph">
<p>REST API for usecase <a href="#section-usecase-UC_015">UC_015-Admin assigns user to project </a></p>
</div>
<div id="section-ucrestdoc-UC_015-default" class="paragraph">
<p><strong>Path parameters</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 16. https://localhost:8081/api/admin/project/{projectId}/membership/{userId}</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>projectId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The id for project</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>userId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The user id of the user to assign to project</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Curl request</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ curl 'https://sechub.example.com/api/admin/project/userId1/membership/projectId1' -i -X POST \
    -H 'Content-Type: application/json;charset=UTF-8'</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="admin-unassigns-user-from-project">10.1.4. Admin unassigns user from project</h4>
<div id="section-ucrestdoc-uc-UC_016" class="paragraph">
<p>REST API for usecase <a href="#section-usecase-UC_016">UC_016-Admin unassigns user from project </a></p>
</div>
<div id="section-ucrestdoc-UC_016-default" class="paragraph">
<p><strong>Path parameters</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 17. https://localhost:8081/api/admin/project/{projectId}/membership/{userId}</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>projectId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The id for project</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>userId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The user id of the user to unassign from project</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Curl request</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ curl 'https://sechub.example.com/api/admin/project/userId1/membership/projectId1' -i -X DELETE \
    -H 'Content-Type: application/json;charset=UTF-8'</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="admin-shows-user-details">10.1.5. Admin shows user details</h4>
<div id="section-ucrestdoc-uc-UC_017" class="paragraph">
<p>REST API for usecase <a href="#section-usecase-UC_017">UC_017-Admin shows user details </a></p>
</div>
<div id="section-ucrestdoc-UC_017-default" class="paragraph">
<p><strong>Path parameters</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 18. https://localhost:8081/api/admin/user/{userId}</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>userId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The user id of user to show details for</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Response fields</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Path</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>userId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the user</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>email</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The mail adress of the user</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>superAdmin</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">True, when this user is a super administrator</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>projects</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Array</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The projects the user has access to</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ownedProjects</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Array</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The projects the user is owner of</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Curl request</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ curl 'https://sechub.example.com/api/admin/user/user1' -i -X GET</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="admin-deletes-a-user">10.1.6. Admin deletes a user</h4>
<div id="section-ucrestdoc-uc-UC_018" class="paragraph">
<p>REST API for usecase <a href="#section-usecase-UC_018">UC_018-Admin deletes a user </a></p>
</div>
<div id="section-ucrestdoc-UC_018-default" class="paragraph">
<p><strong>Path parameters</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 19. https://localhost:8081/api/admin/user/{userId}</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>userId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The userId of the user who shall be deleted</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Curl request</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ curl 'https://sechub.example.com/api/admin/user/USER_ID' -i -X DELETE</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="admin-shows-project-details">10.1.7. Admin shows project details</h4>
<div id="section-ucrestdoc-uc-UC_021" class="paragraph">
<p>REST API for usecase <a href="#section-usecase-UC_021">UC_021-Admin shows project details </a></p>
</div>
<div id="section-ucrestdoc-UC_021-default" class="paragraph">
<p><strong>Path parameters</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 20. https://localhost:8081/api/admin/project/{projectId}</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>projectId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The id for project to show details for</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Response fields</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Path</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>projectId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the project</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>users</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Array</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A list of all users having access to the project</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>owner</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Username of the owner ofthis project. An owner is the person in charge.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>whiteList</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Array</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A list of all whitelisted URIs. Only these ones can be scanned for the project!</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Curl request</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ curl 'https://sechub.example.com/api/admin/project/projectId1' -i -X GET \
    -H 'Content-Type: application/json;charset=UTF-8'</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="admin-downloads-all-details-about-a-scan-job">10.1.8. Admin downloads all details about a scan job</h4>
<div id="section-ucrestdoc-uc-UC_026" class="paragraph">
<p>REST API for usecase <a href="#section-usecase-UC_026">UC_026-Admin downloads all details about a scan job </a></p>
</div>
<div id="section-ucrestdoc-UC_026-default" class="paragraph">
<p><strong>Curl request</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ curl 'https://sechub.example.com/api/admin/scan/download/e3ed4bce-685f-41dd-99a5-4fa2265e66ac' -i -X GET \
    -H 'Content-Type: application/json;charset=UTF-8'</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="admin-grants-admin-rights-to-user">10.1.9. Admin grants admin rights to user</h4>
<div id="section-ucrestdoc-uc-UC_027" class="paragraph">
<p>REST API for usecase <a href="#section-usecase-UC_027">UC_027-Admin grants admin rights to user </a></p>
</div>
<div id="section-ucrestdoc-UC_027-default" class="paragraph">
<p><strong>Path parameters</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 21. https://localhost:8081/api/admin/user/{userId}/grant/superadmin</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>userId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The userId of the user who becomes admin</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Curl request</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ curl 'https://sechub.example.com/api/admin/user/USER_ID/grant/superadmin' -i -X POST</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="admin-revokes-admin-rights-from-an-admin">10.1.10. Admin revokes admin rights from an admin</h4>
<div id="section-ucrestdoc-uc-UC_028" class="paragraph">
<p>REST API for usecase <a href="#section-usecase-UC_028">UC_028-Admin revokes admin rights from an admin </a></p>
</div>
<div id="section-ucrestdoc-UC_028-default" class="paragraph">
<p><strong>Path parameters</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 22. https://localhost:8081/api/admin/user/{userId}/grant/superadmin</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>userId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The userId of the user who becomes admin</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Curl request</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ curl 'https://sechub.example.com/api/admin/user/USER_ID/grant/superadmin' -i -X POST</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="admin-lists-all-admins">10.1.11. Admin lists all admins</h4>
<div id="section-ucrestdoc-uc-UC_029" class="paragraph">
<p>REST API for usecase <a href="#section-usecase-UC_029">UC_029-Admin lists all admins </a></p>
</div>
<div id="section-ucrestdoc-UC_029-default" class="paragraph">
<p><strong>Curl request</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ curl 'https://sechub.example.com/api/admin/admins' -i -X GET</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="admin-creates-a-project">10.1.12. Admin creates a project</h4>
<div id="section-ucrestdoc-uc-UC_013" class="paragraph">
<p>REST API for usecase <a href="#section-usecase-UC_013">UC_013-Admin creates a project </a></p>
</div>
<div id="section-ucrestdoc-UC_013-default" class="paragraph">
<p><strong>Request fields</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Path</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>apiVersion</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The api version, currently only 1.0 is supported</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>whiteList.uris</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Array</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All URIS used now for whitelisting. Former parts will be replaced completely!</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name of the project to create. Is also used as a unique ID!</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Curl request</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ curl 'https://sechub.example.com/api/admin/project' -i -X POST \
    -H 'Content-Type: application/json;charset=UTF-8' \
    -d '{&quot;apiVersion&quot;:&quot;1.0&quot;, &quot;name&quot;:&quot;projectId&quot;, &quot;whiteList&quot;:{&quot;uris&quot;:[&quot;192.168.1.1&quot;,&quot;https://my.special.server.com/myapp1/&quot;]}}'</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="admin-lists-all-projects">10.1.13. Admin lists all projects</h4>
<div id="section-ucrestdoc-uc-UC_014" class="paragraph">
<p>REST API for usecase <a href="#section-usecase-UC_014">UC_014-Admin lists all projects </a></p>
</div>
<div id="section-ucrestdoc-UC_014-default" class="paragraph">
<p><strong>Curl request</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ curl 'https://sechub.example.com/api/admin/projects' -i -X GET \
    -H 'Content-Type: application/json;charset=UTF-8'</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="admin-deletes-a-project">10.1.14. Admin deletes a project</h4>
<div id="section-ucrestdoc-uc-UC_020" class="paragraph">
<p>REST API for usecase <a href="#section-usecase-UC_020">UC_020-Admin deletes a project </a></p>
</div>
<div id="section-ucrestdoc-UC_020-default" class="paragraph">
<p><strong>Path parameters</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 23. https://localhost:8081/api/admin/project/{projectId}</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>projectId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The id for project to delete</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Curl request</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ curl 'https://sechub.example.com/api/admin/project/projectId1' -i -X DELETE \
    -H 'Content-Type: application/json;charset=UTF-8'</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="update-project-whitelist">10.1.15. Update project whitelist</h4>
<div id="section-ucrestdoc-uc-UC_022" class="paragraph">
<p>REST API for usecase <a href="#section-usecase-UC_022">UC_022-Update project whitelist </a></p>
</div>
<div id="section-ucrestdoc-UC_022-default" class="paragraph">
<p><strong>Path parameters</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 24. https://localhost:8081/api/admin/project/{projectId}/whitelist</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>projectId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The id of the project for which whitelist shall be updated</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Request fields</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Path</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>apiVersion</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The api version, currently only 1.0 is supported</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>whiteList.uris</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Array</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All URIS used now for whitelisting. Former parts will be replaced completely!</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Curl request</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ curl 'https://sechub.example.com/api/admin/project/projectId1/whitelist' -i -X POST \
    -H 'Content-Type: application/json;charset=UTF-8' \
    -d '{&quot;apiVersion&quot;:&quot;1.0&quot;, &quot;whiteList&quot;:{&quot;uris&quot;:[&quot;192.168.1.1&quot;,&quot;https://my.special.server.com/myapp1/&quot;]}}'</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="admin-shows-scan-logs-for-project">10.1.16. Admin shows scan logs for project</h4>
<div id="section-ucrestdoc-uc-UC_025" class="paragraph">
<p>REST API for usecase <a href="#section-usecase-UC_025">UC_025-Admin shows scan logs for project </a></p>
</div>
<div id="section-ucrestdoc-UC_025-default" class="paragraph">
<p><strong>Response fields</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Path</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[]</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Array</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An array of scan log summary entries</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[].executedBy</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The user id of the user which executed the scan</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[].started</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The timestamp when the scan was started</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[].ended</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The timestamp when the scan was ended</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[].status</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A status field about scan situation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[].sechubJobUUID</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The uuid of corresponding sechub Job.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Curl request</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ curl 'https://sechub.example.com/api/admin/project/project1/scan/logs' -i -X GET \
    -H 'Content-Type: application/json;charset=UTF-8'</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="user-clicks-link-to-get-new-api-token">10.1.17. User clicks link to get new api token</h4>
<div id="section-ucrestdoc-uc-UC_012" class="paragraph">
<p>REST API for usecase <a href="#section-usecase-UC_012">UC_012-User clicks link to get new api token </a></p>
</div>
<div id="section-ucrestdoc-UC_012-default" class="paragraph">
<p><strong>Path parameters</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 25. https://localhost:8081/api/anonymous/apitoken/{oneTimeToken}</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>oneTimeToken</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A one time token the user has got by a previous mail from sechub server</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Curl request</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ curl 'https://sechub.example.com/api/anonymous/apitoken/oneTimeToken1' -i -X GET \
    -H 'Content-Type: application/json;charset=UTF-8'</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="user-creates-a-new-sechub-job">10.1.18. User creates a new sechub job</h4>
<div id="section-ucrestdoc-uc-UC_005" class="paragraph">
<p>REST API for usecase <a href="#section-usecase-UC_005">UC_005-User creates a new sechub job </a></p>
</div>
<div id="section-ucrestdoc-UC_005-default" class="paragraph">
<p><strong>Path parameters</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 26. https://localhost:8081/api/project/{projectId}/job</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>projectId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The unique id of the project id where a new sechub job shall be created</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Request fields</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Path</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>apiVersion</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The api version, currently only 1.0 is supported</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>webScan</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Object</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Webscan configuration block</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>webScan.uris</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Array</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Webscan URIs to scan for</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>codeScan</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Object</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Code scan configuration block</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>codeScan.fileSystem.folders</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Array</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Code scan sources from given file system folders</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>infraScan</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Object</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Infrastructure configuration block</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>infraScan.uris</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Array</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Infrastructure URIs to scan for</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>infraScan.ips</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Array</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Infrastructure IPs to scan for</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Response fields</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Path</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jobId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A unique job id</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Curl request</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ curl 'https://sechub.example.com/api/project/project1/job' -i -X POST \
    -H 'Content-Type: application/json;charset=UTF-8' \
    -d '{&quot;webScan&quot;:{&quot;uris&quot;:[&quot;https://localhost/mywebapp&quot;]},&quot;infraScan&quot;:{&quot;uris&quot;:[&quot;https://localhost&quot;],&quot;ips&quot;:[&quot;127.0.0.1&quot;]},&quot;codeScan&quot;:{&quot;fileSystem&quot;:{&quot;folders&quot;:[&quot;testproject1/src/main/java&quot;,&quot;testproject2/src/main/java&quot;]}},&quot;apiVersion&quot;:&quot;1.0&quot;}'</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="user-uploads-source-code">10.1.19. User uploads source code</h4>
<div id="section-ucrestdoc-uc-UC_006" class="paragraph">
<p>REST API for usecase <a href="#section-usecase-UC_006">UC_006-User uploads source code </a></p>
</div>
<div id="section-ucrestdoc-UC_006-default" class="paragraph">
<p><strong>Path parameters</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 27. https://localhost:8081/api/project/{projectId}/job/{jobUUID}/sourcecode</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>projectId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The id of the project where sourcecode shall be uploaded for</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jobUUID</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The jobUUID for sechub job</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Curl request</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ curl 'https://sechub.example.com/api/project/project1/job/e9995a84-e0f7-46f4-a1aa-5e968801b840/sourcecode' -i -X POST \
    -H 'Content-Type: multipart/form-data' \
    -F 'file=PK  
      �&lt;M                       test1.txtPK  ?
      �&lt;M                     $               test1.txt
            ��IW�  ��IW�  ��IW� PK          [   '     ' \
    -F 'checkSum=mychecksum'</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="user-approves-sechub-job">10.1.20. User approves sechub job</h4>
<div id="section-ucrestdoc-uc-UC_007" class="paragraph">
<p>REST API for usecase <a href="#section-usecase-UC_007">UC_007-User approves sechub job </a></p>
</div>
<div id="section-ucrestdoc-UC_007-default" class="paragraph">
<p><strong>Path parameters</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 28. https://localhost:8081/api/project/{projectId}/job/{jobUUID}/approve</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>projectId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The id of the project where sechub job shall be approved</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jobUUID</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The jobUUID for sechub job</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Curl request</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ curl 'https://sechub.example.com/api/project/project1/job/6c4f9393-b7d0-45e9-afde-e789a7a066e6/approve' -i -X PUT \
    -H 'Content-Type: application/json;charset=UTF-8'</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="user-checks-sechub-job-state">10.1.21. User checks sechub job state</h4>
<div id="section-ucrestdoc-uc-UC_009" class="paragraph">
<p>REST API for usecase <a href="#section-usecase-UC_009">UC_009-User checks sechub job state </a></p>
</div>
<div id="section-ucrestdoc-UC_009-default" class="paragraph">
<p><strong>Path parameters</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 29. https://localhost:8081/api/project/{projectId}/job/{jobUUID}</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>projectId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The id of the project where sechub job was started for</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jobUUID</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The jobUUID for sechub job</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Response fields</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Path</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jobUUID</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The job uuid</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>created</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Creation timestamp of job</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>started</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Start timestamp of job execution</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ended</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">End timestamp of job execution</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>owner</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Owner / initiator of job</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>state</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">State of job</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>result</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Result of job</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>trafficLight</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Trafficlight of job - but only available when job has been done. Possible states are GREEN, YELLOW, RED</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Curl request</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ curl 'https://sechub.example.com/api/project/project1/job/340d672e-65e4-42ae-8198-530142b19d81' -i -X GET \
    -H 'Content-Type: application/json;charset=UTF-8'</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="user-downloads-sechub-job-report">10.1.22. User downloads sechub job report</h4>
<div id="section-ucrestdoc-uc-UC_010" class="paragraph">
<p>REST API for usecase <a href="#section-usecase-UC_010">UC_010-User downloads sechub job report </a></p>
</div>
<div class="sect4">
<h5 id="section-ucrestdoc-UC_010-JSON">10.1.22.1. JSON</h5>
<div class="paragraph">
<p><strong>Curl request</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ curl 'https://sechub.example.com/api/project/project1/report/1d0bc4fc-a113-4f52-84ce-a74f460c4752' -i -X GET \
    -H 'Content-Type: application/json;charset=UTF-8' \
    -H 'Accept: application/json;charset=UTF-8'</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="section-ucrestdoc-UC_010-HTML">10.1.22.2. HTML</h5>
<div class="paragraph">
<p><strong>Curl request</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ curl 'https://sechub.example.com/api/project/project1/report/ae2be995-ca15-40e9-9295-2f4790c54a0b' -i -X GET \
    -H 'Content-Type: application/json;charset=UTF-8' \
    -H 'Accept: application/xhtml+xml'</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="user-self-registration">10.1.23. User self registration</h4>
<div id="section-ucrestdoc-uc-UC_001" class="paragraph">
<p>REST API for usecase <a href="#section-usecase-UC_001">UC_001-User self registration </a></p>
</div>
<div id="section-ucrestdoc-UC_001-default" class="paragraph">
<p><strong>Request fields</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Path</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>apiVersion</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The api version, currently only 1.0 is supported</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>userId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Wanted userid, the userid must be lowercase only!</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>emailAdress</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Email adress</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Curl request</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ curl 'https://sechub.example.com/api/anonymous/signup' -i -X POST \
    -H 'Content-Type: application/json;charset=UTF-8' \
    -d '{&quot;apiVersion&quot;:&quot;1.0&quot;,&quot;userId&quot;:&quot;valid_userid&quot;,&quot;emailAdress&quot;:&quot;valid_mailadress@test.com&quot;}'</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="admin-lists-open-user-signups">10.1.24. Admin lists open user signups</h4>
<div id="section-ucrestdoc-uc-UC_002" class="paragraph">
<p>REST API for usecase <a href="#section-usecase-UC_002">UC_002-Admin lists open user signups </a></p>
</div>
<div id="section-ucrestdoc-UC_002-default" class="paragraph">
<p><strong>Curl request</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ curl 'https://sechub.example.com/api/admin/signups' -i -X GET</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="admin-applies-self-registration">10.1.25. Admin applies self registration</h4>
<div id="section-ucrestdoc-uc-UC_003" class="paragraph">
<p>REST API for usecase <a href="#section-usecase-UC_003">UC_003-Admin applies self registration </a></p>
</div>
<div id="section-ucrestdoc-UC_003-default" class="paragraph">
<p><strong>Path parameters</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 30. https://localhost:8081/api/admin/signup/accept/{userId}</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>userId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The userId of the signup which shall be accepted</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Curl request</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ curl 'https://sechub.example.com/api/admin/signup/accept/user1' -i -X POST</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="admin-deletes-user-signup">10.1.26. Admin deletes user signup</h4>
<div id="section-ucrestdoc-uc-UC_019" class="paragraph">
<p>REST API for usecase <a href="#section-usecase-UC_019">UC_019-Admin deletes user signup </a></p>
</div>
<div id="section-ucrestdoc-UC_019-default" class="paragraph">
<p><strong>Path parameters</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 31. https://localhost:8081/api/admin/signup/{userId}</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>userId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The userId of the signup which shall be deleted</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Curl request</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ curl 'https://sechub.example.com/api/admin/signup/userId1' -i -X DELETE</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="user-requests-new-api-token">10.1.27. User requests new API token</h4>
<div id="section-ucrestdoc-uc-UC_024" class="paragraph">
<p>REST API for usecase <a href="#section-usecase-UC_024">UC_024-User requests new API token </a></p>
</div>
<div id="section-ucrestdoc-UC_024-default" class="paragraph">
<p><strong>Path parameters</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 32. https://localhost:8081/api/anonymous/refresh/apitoken/{emailAddress}</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>emailAddress</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Email address for user where api token shall be refreshed.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Curl request</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ curl 'https://sechub.example.com/api/anonymous/refresh/apitoken/emailAdress@test.com' -i -X POST \
    -H 'Content-Type: application/json;charset=UTF-8'</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="admin-lists-all-running-jobs">10.1.28. Admin lists all running jobs</h4>
<div id="section-ucrestdoc-uc-UC_023" class="paragraph">
<p>REST API for usecase <a href="#section-usecase-UC_023">UC_023-Admin lists all running jobs </a></p>
</div>
<div id="section-ucrestdoc-UC_023-default" class="paragraph">
<p><strong>Response fields</strong></p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Path</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[].jobUUID</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The uuid of the running job</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[].projectId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the project the job is running for</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[].owner</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Owner of the job - means user which triggered it</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[].status</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A status information</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[].since</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Timestamp since when job has been started</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[].configuration</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Configuration used for this job</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Curl request</strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="bash">$ curl 'https://sechub.example.com/api/admin/jobs/running' -i -X GET \
    -H 'Content-Type: application/json;charset=UTF-8'</code></pre>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-technical-debt">11. Technical debt</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="long-running-transactions">11.1. Long running transactions</h3>
<div class="paragraph">
<p>There could be a problem about long running transactions.</p>
</div>
</div>
<div class="sect2">
<h3 id="domain-messaging-system">11.2. Domain messaging system</h3>
<div class="sect3">
<h4 id="current-implementation">11.2.1. Current implementation</h4>
<div class="paragraph">
<p>Currently the domain messaging is done by a simple observer pattern.<br>
It&#8217;s working, is easy to maintain, simple but has some caveats:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Domain communication is done only inside ONE cluster member (seen from starting point).<br>
(We got still cluster side working! The scheduling approach handles it correctly. But a job will have
 communication etc. only inside same JVM - which is maybe even a good thing ? - and reduces complexity)</p>
<div class="ulist">
<ul>
<li>
<p>What does this include?</p>
<div class="ulist">
<ul>
<li>
<p>We got no "cluster communication".</p>
</li>
<li>
<p>We got no fallback handling when e.g. a cluster fails we got no respawning of the handling or queue entry</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This was a wanted architecture decision to keep things simple on startup. The used wrapper mechanism gives us t
      the chance to change the implementation when necessary, without too much effort. The benefits of data separation
      is still there.
</td>
</tr>
</table>
</div>
<div class="sect4">
<h5 id="additional-information">11.2.1.1. Additional information</h5>
<div class="ulist">
<ul>
<li>
<p>Sending asynchronous messages <strong>are</strong> really asynchronous<br>
The implementation in <code>DomainMessageService</code> uses a spring task executor to provide this in conjunction with observer pattern.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="what-possibilities-do-we-have-to-change-this-in-future">11.2.2. What possibilities do we have to change this in future?</h4>
<div class="ulist">
<ul>
<li>
<p>Use Queuing System (maybe something more lightweight than KAFKA&#8230;&#8203;)</p>
</li>
<li>
<p>Write another spring application which has got REST API and is installed one time in cluster</p>
<div class="ulist">
<ul>
<li>
<p>Problem: Bottleneck, much effort, deployment, etc.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Keep simple implementation as is but implement resilience</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-howtos">12. HowTos</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="section-howto-integrate-a-new-product">12.1. Howto integrate a new product</h3>
<div class="sect3">
<h4 id="section-howtos-write-a-new-adapter">12.1.1. Write a new adapter</h4>
<div class="paragraph">
<p>When you want to write a new adapter you should should base on an existing one.</p>
</div>
<div class="paragraph">
<p>Here is an easy to go list:</p>
</div>
<div class="sect4">
<h5 id="copy-an-existing-adapter-subproject">12.1.1.1. Copy an existing adapter subproject</h5>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
As an example you could use existing subproject <code>sechub-adapter-netsparker</code> as copy base
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p>Copy the existing adapter subproject and rename it adequate in
filesystem</p>
</li>
<li>
<p>After this add the new subproject id to</p>
<div class="ulist">
<ul>
<li>
<p><code>settings.gradle</code></p>
</li>
<li>
<p><code>projects.gradle</code> here you should add the project to the section where other adapters are already set</p>
</li>
<li>
<p><code>sechub-server/build.gradle</code> add the new project as dependency there!</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="reimport-into-ide">12.1.1.2. Reimport into IDE</h5>
<div class="ulist">
<ul>
<li>
<p>Reimpoirt the new subproject into your IDE - in eclipse you can
use <code>EGradle &#8594; Reimport</code>.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="rename-packages">12.1.1.3. Rename packages</h5>
<div class="ulist">
<ul>
<li>
<p>Use your IDE to rename package of the adapter so you have your own namespace - e.g.
when using <code>com.daimler.sechub.adapter.netsparker</code> and you want to create an adapter
for <code>hubabuba</code> you should rename the package to <code>com.daimler.sechub.adapter.hubabuba</code>.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="rename-classes">12.1.1.4. Rename Classes</h5>
<div class="ulist">
<ul>
<li>
<p>Use your IDE to rename classes, interfaces and enums. When you have copied project <code>Netsparker adapter</code>
and wanting to support <code>Hubabuba</code> you have to replace all name parts containing <code>Netsparker</code> with <code>Hubabuba</code>.
This will help you to have <code>Config</code>, <code>ConfigBuilder</code> and many more classes out of the box.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="rewrite-mockadapter">12.1.1.5. Rewrite Mockadapter</h5>
<div class="ulist">
<ul>
<li>
<p>Normally mock adapter implementation do just return an example file (e.g. XML or JSON) as a result. So this has to be done
for the new adapter as well - means another file must be returned.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="rewrite-adapter-logic">12.1.1.6. Rewrite Adapter logic</h5>
<div class="paragraph">
<p>Cleanup the old adapter implementation parts and start recreating</p>
</div>
</div>
<div class="sect4">
<h5 id="adapt-testapplication">12.1.1.7. Adapt TestApplication</h5>
<div class="ulist">
<ul>
<li>
<p>Every adapter should contain an own simple test application having a simple main application where the adapter can be tested
without spring container startup etc. So very fast and simple to use, without dependencies to other <code>SecHub</code> parts</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="write-a-new-product-executor">12.1.2. Write a new product executor</h4>
<div class="paragraph">
<p>It&#8217;s the same as described at <a href="#section-howtos-write-a-new-adapter">Write a new adapter</a>: Just copy an existing product executor subproject.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
As an example you could use existing subproject <code>sechub-scan-product-netsparker</code> as copy base
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>But some additional parts have to be done:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Always think about the kind of <a href="#sechub-concept-installsetup">InstallSetup</a> implementation you want to use!
Depending of the target type (intranet, internet) some products must
are installed twice or need an special identifier to identify another logic or profile
to handle the target correctly. The easiest way is to copy an existing product executor
having the same beaviour/installation setup as the new one.<br>
For details see architecture documentation and search for
<code>Automatic Target resolving and calling of adapters</code> and/or
check class hierarchy and javadoc of <code>InstallSetup</code>.</p>
</li>
<li>
<p>change all <code>@value</code> annotation keys to adequate names, use only fields necessary and remove uninteresting parts</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="extend-sereco-to-support-the-new-product">12.1.3. Extend SERECO to support the new product</h4>
<div class="paragraph">
<p><a href="#section-infrastructure-setup-security-products-sereco">Sereco</a> (<code>SecHub Report Collector</code>) must
be able to extract all necessary data from product results got from
product executors and merge it into its own meta model. After this <code>Sereco</code> will provide a
report which will be transmitted back to user request.</p>
</div>
<div class="paragraph">
<p>So we have to write an product importer by implementing <code>com.daimler.sechub.sereco.importer.ProductResultImporter</code>.
Of course can use an existing importer as a template.</p>
</div>
</div>
<div class="sect3">
<h4 id="adopt-and-write-tests">12.1.4. Adopt and write tests</h4>
<div class="paragraph">
<p>Copied tests from adapter and product executors must be (of course) adapted as well.
Either remove them or use the existing tests as a template to write your own tests.</p>
</div>
<div class="paragraph">
<p>You should also write at least one integration test inside <code>sechub-integrationtest</code> to check that the sever is using the mocked adapter
and <code>SERECO</code> is returning an expected traffic light and also the correct details.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="section-howto-configure-mock-behaviours">12.2. Howto configure mock behaviours</h3>
<div class="paragraph">
<p>The <code>MockedAdapterSetupService</code> reads a JSON configfile from file path. The default
setup is generated by <code>MockSetupGeneratorApplication.java</code></p>
</div>
<div class="paragraph">
<p>Per default it&#8217;s located at <code>/sechub-other/mockdata/mockdata_setup.json</code></p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Please change the <code>MockSetupGeneratorApplication.java</code> and start as java application
to generate the file. This prevents making typos etc.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If you want to use another location, use system property defined in
<code>MockedAdapterSetupService.java</code> to define another location.</p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
    <span class="key"><span class="delimiter">&quot;</span><span class="content">entries</span><span class="delimiter">&quot;</span></span>: [
        { <i class="conum" data-value="1"></i><b>(1)</b>
            <span class="key"><span class="delimiter">&quot;</span><span class="content">adapterId</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">MockedNetsparkerAdapter</span><span class="delimiter">&quot;</span></span>,
            <span class="key"><span class="delimiter">&quot;</span><span class="content">combinations</span><span class="delimiter">&quot;</span></span>: [
                {<i class="conum" data-value="2"></i><b>(2)</b>
                    <span class="key"><span class="delimiter">&quot;</span><span class="content">target</span><span class="delimiter">&quot;</span></span> : <span class="string"><span class="delimiter">&quot;</span><span class="content">https://vulnerable.demo.example.org</span><span class="delimiter">&quot;</span></span>, <i class="conum" data-value="3"></i><b>(3)</b>
                    <span class="key"><span class="delimiter">&quot;</span><span class="content">throwsAdapterException</span><span class="delimiter">&quot;</span></span>: <span class="value">false</span>,<i class="conum" data-value="4"></i><b>(4)</b>
                    <span class="key"><span class="delimiter">&quot;</span><span class="content">filePath</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">./../sechub-other/mockdata/netsparker-mockdata-one-important-vulnerability.xml</span><span class="delimiter">&quot;</span></span> <i class="conum" data-value="5"></i><b>(5)</b>
                },
                {
                    <span class="key"><span class="delimiter">&quot;</span><span class="content">target</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">https://safe.demo.example.org</span><span class="delimiter">&quot;</span></span>,
                    <span class="key"><span class="delimiter">&quot;</span><span class="content">throwsAdapterException</span><span class="delimiter">&quot;</span></span>: <span class="value">false</span>,
                    <span class="key"><span class="delimiter">&quot;</span><span class="content">filePath</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">./../sechub-other/mockdata/netsparker-mockdata-green.xml</span><span class="delimiter">&quot;</span></span>
                },
                {
                    <span class="key"><span class="delimiter">&quot;</span><span class="content">target</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">{any-other-target}</span><span class="delimiter">&quot;</span></span>,
                    <span class="key"><span class="delimiter">&quot;</span><span class="content">throwsAdapterException</span><span class="delimiter">&quot;</span></span>: <span class="value">false</span>,
                    <span class="key"><span class="delimiter">&quot;</span><span class="content">filePath</span><span class="delimiter">&quot;</span></span>: <span class="string"><span class="delimiter">&quot;</span><span class="content">./../sechub-other/mockdata/netsparker-mockdata-green.xml</span><span class="delimiter">&quot;</span></span>
                }
            ]
        }

    ]
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>One Adapter definition for mocking, can be multiple times, but for each adapter only one definition!</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>A combination for the adapter</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Target url definition, for code scanners the file resource folders are the targets
e.g. <code>"../sechub-doc/src/main/java"</code>. When using <code>"{any-other-target}"</code> this will the combination
used for all not defined combinations.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Mocked adapter will not throw an exception on execution time, when true defined the adapter will
thow an adapter execution. Interesting for tests</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Filepath for result file to return by mock when target url of Job starts with defined one</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2019-06-26 14:39:34 CEST
</div>
</div>
</body>
</html>